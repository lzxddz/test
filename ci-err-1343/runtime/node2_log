
   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:11:24.672806 I 13916] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:11:24.674165 I 13916] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:11:24.674510 I 13916] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:11:24.709944 I 13916] [util.h:378] Successfully loaded cluster config from file with version 1751973084380366
[2025-07-08T11:11:24.709995 I 13916] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:11:24.710008 I 13916] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:11:24.710019 I 13916] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:11:24.710031 I 13916] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:11:24.710040 I 13916] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:11:24.710050 I 13916] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:11:24.722666 I 13916] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:11:24.771576 I 13916] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:11:24.771634 I 13916] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:11:24.772148 I 13916] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:11:24.772338 I 13916] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:11:24.772563 I 13916] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:11:24.841580 I 13916] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:11:24.896457 I 13916] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:11:24.896611 I 13916] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:11:24.896965 I 13916] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:11:24.897011 I 13916] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:11:24.897024 I 13916] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:11:24.918641 I 13916] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:11:24.918689 I 13916] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:11:24.936434 I 13916] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:11:24.936486 I 13916] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:11:24.936501 I 13916] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:11:24.940425 I 13916] [sharder.cpp:371] Spawned host manager process with PID: 13943
[2025-07-08T11:11:25.093325 I 13916] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:11:25.094041 I 13916] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:11:25.100594 I 13916] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:11:25.100641 I 13916] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:11:25.120119 I 13939] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:11:25.120230 I 13941] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:11:25.125834 I 13941] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:11:25.126230 I 13941] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:11:25.127565 I 13941] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:11:26.113950 I 13939] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:11:27.209074 I 13928] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:11:27.215485 I 13929] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:11:27.238721 I 13928] [log_replay_service.cpp:274] replay service accepting new stream: 175 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:11:27.554387 I 13928] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:11:27.826036 I 13929] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:11:27.877276 I 13928] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:11:27.877344 I 13928] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:11:27.877445 I 13928] [log_replay_service.cpp:717] replay service stream: 175, is closed, active stream cnt: 0
[2025-07-08T11:11:27.882297 I 13916] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:11:27.882340 W 13916] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:11:27.882361 I 13916] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:11:31.828511 I 13928] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:11:31.828563 I 13928] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:11:32.417454 I 13928] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:11:32.418509 I 13929] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x5f3997b74d0, schema_ts: 100
[2025-07-08T11:11:32.429582 I 13928] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x5f3997b74d0, schema_ts: 100
[2025-07-08T11:11:34.898424 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 67709416, allocated 66516128, frag ratio 1.8 , heap full: 0
[2025-07-08T11:11:34.898504 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 68464048, allocated 67529192, frag ratio 1.4 , heap full: 0
[2025-07-08T11:11:34.898519 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:11:34.898553 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973094896828. The memory usage of node is: 130903 KB.
[2025-07-08T11:11:34.902156 I 13969] [local_cc_shards.cpp:4585] scan_cc: 133326970558080  scan data cnt is 0
[2025-07-08T11:11:34.912426 I 13968] [local_cc_shards.cpp:4585] scan_cc: 133326978950784  scan data cnt is 0
[2025-07-08T11:11:34.916654 I 13968] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973094896828
[2025-07-08T11:11:34.916723 I 13968] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973094896828
[2025-07-08T11:11:44.901520 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 67782984, allocated 66554408, frag ratio 1.8 , heap full: 0
[2025-07-08T11:11:44.901588 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 68615440, allocated 67589760, frag ratio 1.5 , heap full: 0
[2025-07-08T11:11:44.901603 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:11:44.901631 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973104899966. The memory usage of node is: 131000 KB.
[2025-07-08T11:11:44.901854 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973104899966
[2025-07-08T11:11:44.901973 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973104899966
[2025-07-08T11:11:54.909336 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 67890408, allocated 66668384, frag ratio 1.8 , heap full: 0
[2025-07-08T11:11:54.909420 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 68712112, allocated 67697800, frag ratio 1.5 , heap full: 0
[2025-07-08T11:11:54.909438 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:11:54.909459 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973114908186. The memory usage of node is: 131216 KB.
[2025-07-08T11:11:54.914422 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973114908186
[2025-07-08T11:11:54.914477 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973114908186
[2025-07-08T11:12:04.954123 I 13928] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:12:04.953344 I 13929] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:12:04.955559 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59887464, allocated 57690000, frag ratio 3.7 , heap full: 0
[2025-07-08T11:12:04.955595 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60709168, allocated 58711128, frag ratio 3.3 , heap full: 0
[2025-07-08T11:12:04.955610 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:12:04.955631 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973124932855. The memory usage of node is: 113672 KB.
[2025-07-08T11:12:04.958367 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973124932855
[2025-07-08T11:12:04.959477 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973124932855
[2025-07-08T11:12:14.973781 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59147912, allocated 57759912, frag ratio 2.3 , heap full: 0
[2025-07-08T11:12:14.973850 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60035152, allocated 58823648, frag ratio 2 , heap full: 0
[2025-07-08T11:12:14.973870 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:12:14.973892 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973134942090. The memory usage of node is: 113851 KB.
[2025-07-08T11:12:14.995918 I 13968] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 69892 quota: 157286400 flight_tasks: 1 record count: 692
[2025-07-08T11:12:14.999505 I 13969] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 68478 quota: 157286400 flight_tasks: 1 record count: 678
[2025-07-08T11:12:15.010186 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 69892 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:12:15.020541 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 68478 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:12:15.095491 I 13967] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:12:15.095537 I 13967] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:12:15.097285 I 13967] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973134942090
[2025-07-08T11:12:15.102604 I 13967] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973134942090
[2025-07-08T11:12:24.978667 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59311592, allocated 57914360, frag ratio 2.4 , heap full: 0
[2025-07-08T11:12:24.978742 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60147632, allocated 58934176, frag ratio 2 , heap full: 0
[2025-07-08T11:12:24.978763 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:12:24.978782 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973144947759. The memory usage of node is: 114109 KB.
[2025-07-08T11:12:24.982753 I 13969] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 64842 quota: 157286400 flight_tasks: 1 record count: 642
[2025-07-08T11:12:24.993402 I 13968] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 63125 quota: 157286400 flight_tasks: 1 record count: 625
[2025-07-08T11:12:25.003859 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 64842 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:12:25.017413 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 63125 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:12:25.058719 I 13967] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:12:25.058764 I 13967] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:12:25.060820 I 13967] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973144947759
[2025-07-08T11:12:25.060870 I 13967] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973144947759
[2025-07-08T11:12:34.981804 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59275240, allocated 57909544, frag ratio 2.3 , heap full: 0
[2025-07-08T11:12:34.981871 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58932176, frag ratio 1.9 , heap full: 0
[2025-07-08T11:12:34.981889 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:12:34.981909 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973154980419. The memory usage of node is: 114103 KB.
[2025-07-08T11:12:34.991925 I 13969] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 16160 quota: 157286400 flight_tasks: 1 record count: 160
[2025-07-08T11:12:34.992636 I 13968] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 16059 quota: 157286400 flight_tasks: 1 record count: 159
[2025-07-08T11:12:34.994791 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 16160 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:12:35.000730 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 16059 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:12:35.039924 I 13967] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:12:35.039970 I 13967] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:12:35.045349 I 13967] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973154980419
[2025-07-08T11:12:35.045431 I 13967] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973154980419
[2025-07-08T11:12:44.986599 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59275240, allocated 57909000, frag ratio 2.3 , heap full: 0
[2025-07-08T11:12:44.989432 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58940304, frag ratio 1.9 , heap full: 0
[2025-07-08T11:12:44.989473 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:12:44.989495 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973164984489. The memory usage of node is: 114110 KB.
[2025-07-08T11:12:44.991751 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973164984489
[2025-07-08T11:12:44.992929 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973164984489
[2025-07-08T11:12:53.515630 I 13928] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:12:53.520220 I 13928] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:12:55.571852 I 13928] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:12:55.571914 I 13928] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:12:55.571930 I 13928] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 1
[2025-07-08T11:12:55.571944 I 13928] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 12 ms
[2025-07-08T11:12:55.571964 I 13928] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-1 new_cookie_on_open: 0-2
[2025-07-08T11:12:55.752790 I 13928] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 180 ms
[2025-07-08T11:12:55.766798 I 13928] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:12:55.766870 E 13928] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:12:55.768203 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59275240, allocated 57909288, frag ratio 2.3 , heap full: 0
[2025-07-08T11:12:55.768249 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58932240, frag ratio 1.9 , heap full: 0
[2025-07-08T11:12:55.768265 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:12:55.768288 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973174998669. The memory usage of node is: 114103 KB.
[2025-07-08T11:12:55.772466 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973174998669
[2025-07-08T11:12:55.772521 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973174998669
[2025-07-08T11:12:55.772972 I 13928] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:12:55.773147 I 13928] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:12:55.773171 I 13928] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:12:55.806888 I 13928] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:12:55.806928 I 13928] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:12:55.806982 I 13928] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:13:05.791316 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59275240, allocated 57911560, frag ratio 2.3 , heap full: 0
[2025-07-08T11:13:05.791396 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58925152, frag ratio 2 , heap full: 0
[2025-07-08T11:13:05.791414 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:13:05.791433 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973185789794. The memory usage of node is: 114098 KB.
[2025-07-08T11:13:05.793025 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973185789794
[2025-07-08T11:13:05.793072 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973185789794
[2025-07-08T11:13:15.801431 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59275240, allocated 57909656, frag ratio 2.3 , heap full: 0
[2025-07-08T11:13:15.801501 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58924000, frag ratio 2 , heap full: 0
[2025-07-08T11:13:15.801522 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:13:15.801545 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973195799431. The memory usage of node is: 114095 KB.
[2025-07-08T11:13:15.803547 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973195799431
[2025-07-08T11:13:15.804735 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973195799431
[2025-07-08T11:13:25.814492 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59295720, allocated 57927960, frag ratio 2.3 , heap full: 0
[2025-07-08T11:13:25.814564 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58932544, frag ratio 1.9 , heap full: 0
[2025-07-08T11:13:25.814580 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:13:25.814603 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973205808760. The memory usage of node is: 114121 KB.
[2025-07-08T11:13:25.816854 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973205808760
[2025-07-08T11:13:25.817939 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973205808760
[2025-07-08T11:13:35.828645 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59295720, allocated 57927896, frag ratio 2.3 , heap full: 0
[2025-07-08T11:13:35.828720 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58932448, frag ratio 1.9 , heap full: 0
[2025-07-08T11:13:35.828740 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:13:35.828761 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973215828439. The memory usage of node is: 114121 KB.
[2025-07-08T11:13:35.828944 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973215828439
[2025-07-08T11:13:35.828980 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973215828439
[2025-07-08T11:13:45.833282 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59295720, allocated 57919800, frag ratio 2.3 , heap full: 0
[2025-07-08T11:13:45.833350 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60097456, allocated 58924000, frag ratio 2 , heap full: 0
[2025-07-08T11:13:45.833365 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 208, committed 4096, full: 0
[2025-07-08T11:13:45.833402 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973225832828. The memory usage of node is: 114105 KB.
[2025-07-08T11:13:45.833469 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973225832828
[2025-07-08T11:13:45.833492 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973225832828
[2025-07-08T11:13:49.914043 I 14019] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:13:55.851799 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59379592, allocated 57998152, frag ratio 2.3 , heap full: 0
[2025-07-08T11:13:55.851866 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60177232, allocated 59039056, frag ratio 1.9 , heap full: 0
[2025-07-08T11:13:55.851882 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 224, committed 4096, full: 0
[2025-07-08T11:13:55.851904 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973235805053. The memory usage of node is: 114294 KB.
[2025-07-08T11:13:55.854856 I 13968] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 42127 quota: 157286400 flight_tasks: 1 record count: 409
[2025-07-08T11:13:55.855427 I 13969] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 41612 quota: 157286400 flight_tasks: 1 record count: 404
[2025-07-08T11:13:55.861544 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 41612 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:13:55.866400 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 42127 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:13:55.924724 I 14026] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:13:55.924789 I 13967] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:13:55.924806 I 13967] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:13:55.927706 I 13967] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973235805053
[2025-07-08T11:13:55.927757 I 13967] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973235805053
[2025-07-08T11:13:59.932826 I 14029] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:13:59.932861 I 14045] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 5 ,thread: 14045 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:14:00.011488 I 14045] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 5 ,thread: 14045 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:14:05.855978 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59502376, allocated 58132440, frag ratio 2.3 , heap full: 0
[2025-07-08T11:14:05.856036 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60310256, allocated 59176304, frag ratio 1.9 , heap full: 0
[2025-07-08T11:14:05.856050 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 240, committed 4096, full: 0
[2025-07-08T11:14:05.856071 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973245750866. The memory usage of node is: 114559 KB.
[2025-07-08T11:14:05.870462 I 13968] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 73851 quota: 157286400 flight_tasks: 1 record count: 717
[2025-07-08T11:14:05.872668 I 13969] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 72615 quota: 157286400 flight_tasks: 1 record count: 705
[2025-07-08T11:14:05.885099 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 72615 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:14:05.891131 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 73851 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:14:05.945947 I 13967] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:14:05.945992 I 13967] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:14:05.946049 I 14032] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:14:05.946877 I 13967] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973245750866
[2025-07-08T11:14:05.948412 I 13967] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973245750866
[2025-07-08T11:14:09.943213 I 14022] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:14:15.860394 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59570312, allocated 58195240, frag ratio 2.3 , heap full: 0
[2025-07-08T11:14:15.860481 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60375120, allocated 59239632, frag ratio 1.9 , heap full: 0
[2025-07-08T11:14:15.860498 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 256, committed 4096, full: 0
[2025-07-08T11:14:15.860517 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973255859435. The memory usage of node is: 114682 KB.
[2025-07-08T11:14:15.865134 I 13969] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 33990 quota: 157286400 flight_tasks: 1 record count: 330
[2025-07-08T11:14:15.867554 I 13968] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 34917 quota: 157286400 flight_tasks: 1 record count: 339
[2025-07-08T11:14:15.867554 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 33990 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:14:15.871402 I 13967] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 34917 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:14:15.921458 I 13969] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:14:15.921523 I 13969] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:14:15.921593 I 14018] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:14:15.922536 I 13969] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973255859435
[2025-07-08T11:14:15.922583 I 13969] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973255859435
[2025-07-08T11:14:19.896890 I 14046] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 10 ,thread: 14046 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:14:19.900604 I 14025] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:14:19.985822 I 14046] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 10 ,thread: 14046 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:14:25.863976 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59570312, allocated 58195336, frag ratio 2.3 , heap full: 0
[2025-07-08T11:14:25.864043 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60375120, allocated 59256048, frag ratio 1.9 , heap full: 0
[2025-07-08T11:14:25.864063 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 272, committed 4096, full: 0
[2025-07-08T11:14:25.864084 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973265862746. The memory usage of node is: 114698 KB.
[2025-07-08T11:14:25.865090 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973265862746
[2025-07-08T11:14:25.865144 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973265862746
[2025-07-08T11:14:35.908057 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59570312, allocated 58195304, frag ratio 2.3 , heap full: 0
[2025-07-08T11:14:35.908134 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60375120, allocated 59256048, frag ratio 1.9 , heap full: 0
[2025-07-08T11:14:35.908152 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 288, committed 4096, full: 0
[2025-07-08T11:14:35.908176 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973275903772. The memory usage of node is: 114698 KB.
[2025-07-08T11:14:35.909471 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973275903772
[2025-07-08T11:14:35.909510 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973275903772
[2025-07-08T11:14:45.920078 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59570312, allocated 58203560, frag ratio 2.3 , heap full: 0
[2025-07-08T11:14:45.920158 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 60375120, allocated 59247888, frag ratio 1.9 , heap full: 0
[2025-07-08T11:14:45.920176 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 304, committed 4096, full: 0
[2025-07-08T11:14:45.920202 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973285916316. The memory usage of node is: 114698 KB.
[2025-07-08T11:14:45.920477 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973285916316
[2025-07-08T11:14:45.920532 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973285916316
[2025-07-08T11:14:49.611977 I 13966] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4402341497576
[2025-07-08T11:14:49.656569 I 13966] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4402341497576
[2025-07-08T11:14:49.686774 I 13929] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4402341497576
[2025-07-08T11:14:49.690263 I 13928] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:14:49.693789 I 13929] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:14:49.697347 I 14107] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:14:49.698987 I 13929] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4402341497576
[2025-07-08T11:14:49.705422 I 13929] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:14:49.773326 I 13928] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:14:49.801951 I 13929] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4402341497576, tx_term: 2, tx_ng_id: 1
[2025-07-08T11:14:51.823942 I 13929] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4402341497576
[2025-07-08T11:14:51.827857 I 13929] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4402341497576
[2025-07-08T11:14:51.836949 I 13929] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4402341497576
[2025-07-08T11:14:51.855032 I 13939] [sharder.cpp:1276] Updating in memory cluster config to version 1751973289597159
[2025-07-08T11:14:51.855072 I 13939] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:14:51.855084 I 13939] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:14:51.855096 I 13939] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:14:51.855150 I 13939] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:14:51.926597 I 13929] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4402341497576
[2025-07-08T11:14:51.929864 I 13928] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:14:51.929934 I 13928] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:14:51.931612 I 13939] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:14:51.931740 I 14108] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:14:51.939450 I 13929] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4402341497576, tx_term: 2, tx_ng_id: 1
[2025-07-08T11:14:52.884891 I 13929] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x5f3ea100000)
[2025-07-08T11:14:52.885035 I 13929] [socket.cpp:2848] Checking Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x5f372910600)
[2025-07-08T11:14:55.931406 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59653904, allocated 58246528, frag ratio 2.4 , heap full: 0
[2025-07-08T11:14:55.931468 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 62370048, allocated 60279464, frag ratio 3.4 , heap full: 0
[2025-07-08T11:14:55.931483 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 320, committed 4096, full: 0
[2025-07-08T11:14:55.931504 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973295930434. The memory usage of node is: 115748 KB.
[2025-07-08T11:14:55.931576 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973295930434
[2025-07-08T11:14:55.931597 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973295930434
[2025-07-08T11:15:05.937885 I 13935] [cc_request.h:2722] ccs 0 memory usage report, committed 59803232, allocated 58450656, frag ratio 2.3 , heap full: 0
[2025-07-08T11:15:05.937951 I 13935] [cc_request.h:2722] ccs 1 memory usage report, committed 62457952, allocated 60474872, frag ratio 3.2 , heap full: 0
[2025-07-08T11:15:05.937966 I 13935] [local_cc_shards.h:474] Table range memory report: allocated 336, committed 4096, full: 0
[2025-07-08T11:15:05.937986 I 13935] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973305937726. The memory usage of node is: 116138 KB.
[2025-07-08T11:15:05.939409 I 13935] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973305937726
[2025-07-08T11:15:05.939463 I 13935] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973305937726

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:15:42.719496 I 14381] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:15:42.720945 I 14381] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:15:42.721310 I 14381] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:15:42.744876 I 14381] [util.h:378] Successfully loaded cluster config from file with version 1751973342488791
[2025-07-08T11:15:42.744925 I 14381] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:15:42.744937 I 14381] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:15:42.744951 I 14381] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:15:42.744962 I 14381] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:15:42.744973 I 14381] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:15:42.744985 I 14381] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:15:42.758710 I 14381] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:15:42.788574 I 14381] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:15:42.788627 I 14381] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:15:42.789139 I 14381] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:15:42.789321 I 14381] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:15:42.789556 I 14381] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:15:42.841378 I 14381] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:15:42.870352 I 14381] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:15:42.874317 I 14381] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:15:42.874765 I 14381] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:15:42.874830 I 14381] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:15:42.874843 I 14381] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:15:42.883582 I 14381] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:15:42.883625 I 14381] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:15:42.884984 I 14381] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:15:42.885016 I 14381] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:15:42.885030 I 14381] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:15:42.886220 I 14381] [sharder.cpp:371] Spawned host manager process with PID: 14408
[2025-07-08T11:15:43.024514 I 14381] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:15:43.025063 I 14381] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:15:43.028894 I 14381] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:15:43.028930 I 14381] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:15:43.037472 I 14406] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:15:43.040499 I 14404] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:15:43.046934 I 14406] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:15:43.053473 I 14406] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:15:43.059419 I 14406] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:15:44.034317 I 14404] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:15:45.426492 I 14394] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:15:45.429072 I 14393] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:15:45.442219 I 14394] [log_replay_service.cpp:274] replay service accepting new stream: 258 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:15:45.735010 I 14393] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:15:45.967676 I 14394] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:15:46.035877 I 14394] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:15:46.035945 I 14394] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:15:46.036046 I 14394] [log_replay_service.cpp:717] replay service stream: 258, is closed, active stream cnt: 0
[2025-07-08T11:15:46.037753 I 14381] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:15:46.041421 W 14381] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:15:46.041463 I 14381] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:15:50.027213 I 14394] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:15:50.027259 I 14394] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:15:50.128470 I 14394] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:15:50.128608 I 14394] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x36e337b7540, schema_ts: 100
[2025-07-08T11:15:50.131978 I 14393] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x36e337b7540, schema_ts: 100
[2025-07-08T11:15:52.883673 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 67732360, allocated 66694728, frag ratio 1.5 , heap full: 0
[2025-07-08T11:15:52.883757 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 68125344, allocated 67211384, frag ratio 1.3 , heap full: 0
[2025-07-08T11:15:52.883778 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:15:52.883809 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973352883533. The memory usage of node is: 130767 KB.
[2025-07-08T11:15:52.886674 I 14433] [local_cc_shards.cpp:4585] scan_cc: 138497609000576  scan data cnt is 0
[2025-07-08T11:15:52.886730 I 14434] [local_cc_shards.cpp:4585] scan_cc: 138497600607872  scan data cnt is 0
[2025-07-08T11:15:52.889768 I 14434] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973352883533
[2025-07-08T11:15:52.889825 I 14434] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973352883533
[2025-07-08T11:16:02.889559 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 67928712, allocated 66823256, frag ratio 1.6 , heap full: 0
[2025-07-08T11:16:02.889626 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 68316976, allocated 67246368, frag ratio 1.6 , heap full: 0
[2025-07-08T11:16:02.889649 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:16:02.889669 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973362887436. The memory usage of node is: 130927 KB.
[2025-07-08T11:16:02.890604 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973362887436
[2025-07-08T11:16:02.890923 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973362887436
[2025-07-08T11:16:12.901304 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 67694136, allocated 66940320, frag ratio 1.1 , heap full: 0
[2025-07-08T11:16:12.901371 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 68074128, allocated 67357000, frag ratio 1.1 , heap full: 0
[2025-07-08T11:16:12.901410 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:16:12.901432 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973372900436. The memory usage of node is: 131149 KB.
[2025-07-08T11:16:12.907430 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973372900436
[2025-07-08T11:16:12.907498 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973372900436
[2025-07-08T11:16:22.931820 I 14394] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:16:22.932739 I 14393] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:16:22.941406 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 59937272, allocated 58062872, frag ratio 3.1 , heap full: 0
[2025-07-08T11:16:22.941457 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60317264, allocated 58445744, frag ratio 3.1 , heap full: 0
[2025-07-08T11:16:22.941473 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:16:22.941494 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973382894121. The memory usage of node is: 113777 KB.
[2025-07-08T11:16:22.949551 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 18696 quota: 157286400 flight_tasks: 1 record count: 152
[2025-07-08T11:16:22.952430 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 20418 quota: 157286400 flight_tasks: 1 record count: 166
[2025-07-08T11:16:22.957141 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 18696 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:16:22.966475 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 20418 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:16:23.005805 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:16:23.005852 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:16:23.007129 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973382894121
[2025-07-08T11:16:23.007169 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973382894121
[2025-07-08T11:16:32.944567 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60186808, allocated 58247656, frag ratio 3.2 , heap full: 0
[2025-07-08T11:16:32.944635 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 59976976, allocated 58710576, frag ratio 2.1 , heap full: 0
[2025-07-08T11:16:32.944653 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:16:32.944674 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973392878601. The memory usage of node is: 114217 KB.
[2025-07-08T11:16:32.957408 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 103566 quota: 157286400 flight_tasks: 1 record count: 842
[2025-07-08T11:16:32.968408 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 103443 quota: 157286400 flight_tasks: 1 record count: 841
[2025-07-08T11:16:32.972324 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 103566 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:16:32.984308 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 103443 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:16:33.030148 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:16:33.030193 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:16:33.031035 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973392878601
[2025-07-08T11:16:33.031077 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973392878601
[2025-07-08T11:16:42.945430 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 59710504, allocated 58334136, frag ratio 2.3 , heap full: 0
[2025-07-08T11:16:42.945493 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60173952, allocated 58807680, frag ratio 2.3 , heap full: 0
[2025-07-08T11:16:42.945508 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:16:42.945524 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973402945108. The memory usage of node is: 114396 KB.
[2025-07-08T11:16:42.952270 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 59901 quota: 157286400 flight_tasks: 1 record count: 487
[2025-07-08T11:16:42.956303 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 57687 quota: 157286400 flight_tasks: 1 record count: 469
[2025-07-08T11:16:42.967072 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 59901 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:16:42.976958 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 57687 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:16:43.016393 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:16:43.016440 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:16:43.019260 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973402945108
[2025-07-08T11:16:43.019310 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973402945108
[2025-07-08T11:16:52.947414 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 59710504, allocated 58334824, frag ratio 2.3 , heap full: 0
[2025-07-08T11:16:52.947479 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60178032, allocated 58816704, frag ratio 2.3 , heap full: 0
[2025-07-08T11:16:52.947496 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:16:52.947515 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973412946664. The memory usage of node is: 114405 KB.
[2025-07-08T11:16:52.951195 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973412946664
[2025-07-08T11:16:52.951416 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973412946664
[2025-07-08T11:17:01.564807 I 14394] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:17:01.579989 I 14394] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:17:03.637672 I 14394] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:17:03.637734 I 14394] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:17:03.637753 I 14394] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 1
[2025-07-08T11:17:03.637768 I 14394] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 2 ms
[2025-07-08T11:17:03.637796 I 14394] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-1 new_cookie_on_open: 0-2
[2025-07-08T11:17:03.775782 I 14394] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 137 ms
[2025-07-08T11:17:03.786968 I 14394] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:17:03.787021 E 14394] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:17:03.788703 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 59710504, allocated 58334440, frag ratio 2.3 , heap full: 0
[2025-07-08T11:17:03.788748 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60178032, allocated 58816416, frag ratio 2.3 , heap full: 0
[2025-07-08T11:17:03.788762 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:17:03.788796 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973422956677. The memory usage of node is: 114405 KB.
[2025-07-08T11:17:03.791216 I 14393] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:17:03.791397 I 14393] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:17:03.791426 I 14393] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:17:03.792183 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 375 quota: 157286400 flight_tasks: 1 record count: 3
[2025-07-08T11:17:03.792304 W 14432] [data_store_service_client.cpp:276] DataStoreHandler: Failed to write batch for table: data_table_0, with error code: 3
[2025-07-08T11:17:03.792328 E 14432] [local_cc_shards.cpp:5352] DataSync PutAll flush to kv storage failed
[2025-07-08T11:17:03.792517 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 375 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:17:03.792814 I 14434] [local_cc_shards.cpp:4585] scan_cc: 138497600607872  scan data cnt is 0
[2025-07-08T11:17:03.793638 I 14434] [data_sync_task.cpp:147] Checkpoint of node group #1 finished with timestamp: 1751973422956677 with result code: 7
[2025-07-08T11:17:03.815301 I 14394] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:17:03.815335 I 14394] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:17:03.815364 I 14394] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:17:10.770507 I 14486] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:17:13.793092 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 59876104, allocated 58525128, frag ratio 2.3 , heap full: 0
[2025-07-08T11:17:13.796334 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60335456, allocated 59004320, frag ratio 2.2 , heap full: 0
[2025-07-08T11:17:13.796397 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:17:13.796423 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973433757092. The memory usage of node is: 114774 KB.
[2025-07-08T11:17:13.807408 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 93875 quota: 157286400 flight_tasks: 1 record count: 751
[2025-07-08T11:17:13.808908 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 93125 quota: 157286400 flight_tasks: 1 record count: 745
[2025-07-08T11:17:13.835528 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 93875 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:17:13.844552 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 93125 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:17:13.918007 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:17:13.918007 I 14490] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:17:13.918067 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:17:13.918334 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973433757092
[2025-07-08T11:17:13.918394 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973433757092
[2025-07-08T11:17:20.763291 I 14495] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:17:23.806354 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60036024, allocated 58654808, frag ratio 2.3 , heap full: 0
[2025-07-08T11:17:23.806438 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59138688, frag ratio 2.3 , heap full: 0
[2025-07-08T11:17:23.806455 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:17:23.806480 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973443803403. The memory usage of node is: 115032 KB.
[2025-07-08T11:17:23.832957 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 91375 quota: 157286400 flight_tasks: 1 record count: 731
[2025-07-08T11:17:23.838734 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 90375 quota: 157286400 flight_tasks: 1 record count: 723
[2025-07-08T11:17:23.875445 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 90375 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:17:23.890237 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 91375 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:17:23.954600 I 14511] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 6 ,thread: 14511 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:17:23.959045 I 14493] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:17:23.959046 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:17:23.959115 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:17:23.967875 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973443803403
[2025-07-08T11:17:23.967943 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973443803403
[2025-07-08T11:17:24.038900 I 14511] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 6 ,thread: 14511 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:17:30.744015 I 14499] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:17:33.817531 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60036024, allocated 58696120, frag ratio 2.2 , heap full: 0
[2025-07-08T11:17:33.817598 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59138224, frag ratio 2.3 , heap full: 0
[2025-07-08T11:17:33.817615 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:17:33.817637 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973453812450. The memory usage of node is: 115072 KB.
[2025-07-08T11:17:33.818974 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973453812450
[2025-07-08T11:17:33.820739 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973453812450
[2025-07-08T11:17:43.830350 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60036024, allocated 58696088, frag ratio 2.2 , heap full: 0
[2025-07-08T11:17:43.830509 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59179184, frag ratio 2.2 , heap full: 0
[2025-07-08T11:17:43.830524 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:17:43.830595 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973463829451. The memory usage of node is: 115112 KB.
[2025-07-08T11:17:43.831218 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973463829451
[2025-07-08T11:17:43.833101 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973463829451
[2025-07-08T11:17:53.843206 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60036024, allocated 58696376, frag ratio 2.2 , heap full: 0
[2025-07-08T11:17:53.843271 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59179904, frag ratio 2.2 , heap full: 0
[2025-07-08T11:17:53.843286 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:17:53.843307 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973473839932. The memory usage of node is: 115113 KB.
[2025-07-08T11:17:53.843648 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973473839932
[2025-07-08T11:17:53.843672 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973473839932
[2025-07-08T11:18:03.853650 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60036024, allocated 58712600, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:03.853713 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59187056, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:03.853729 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 208, committed 4096, full: 0
[2025-07-08T11:18:03.853747 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973483853598. The memory usage of node is: 115136 KB.
[2025-07-08T11:18:03.853812 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973483853598
[2025-07-08T11:18:03.853834 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973483853598
[2025-07-08T11:18:13.862665 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60036024, allocated 58696296, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:13.862733 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59179280, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:13.862752 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 224, committed 4096, full: 0
[2025-07-08T11:18:13.862774 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973493861295. The memory usage of node is: 115112 KB.
[2025-07-08T11:18:13.863687 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973493861295
[2025-07-08T11:18:13.863741 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973493861295
[2025-07-08T11:18:23.966882 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60039608, allocated 58697272, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:24.044582 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60503552, allocated 59178768, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:24.044633 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 240, committed 4096, full: 0
[2025-07-08T11:18:24.044675 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973503965347. The memory usage of node is: 115113 KB.
[2025-07-08T11:18:24.044862 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973503965347
[2025-07-08T11:18:24.044901 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973503965347
[2025-07-08T11:18:34.095748 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60047784, allocated 58711448, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:34.095818 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60507648, allocated 59183280, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:34.095839 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 256, committed 4096, full: 0
[2025-07-08T11:18:34.095862 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973514094914. The memory usage of node is: 115131 KB.
[2025-07-08T11:18:34.098786 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 3500 quota: 157286400 flight_tasks: 1 record count: 28
[2025-07-08T11:18:34.102285 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 3500 quota: 157286400 flight_tasks: 1 record count: 28
[2025-07-08T11:18:34.108153 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 3500 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:18:34.110407 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 3500 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:18:34.155606 I 14434] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:18:34.155653 I 14434] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:18:34.155712 I 14485] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:18:34.156342 I 14434] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973514094914
[2025-07-08T11:18:34.156400 I 14434] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973514094914
[2025-07-08T11:18:40.881937 I 14489] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:18:44.098083 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60174520, allocated 58844712, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:44.098263 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60644704, allocated 59328560, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:44.098289 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 272, committed 4096, full: 0
[2025-07-08T11:18:44.098311 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973523995462. The memory usage of node is: 115403 KB.
[2025-07-08T11:18:44.110872 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 79875 quota: 157286400 flight_tasks: 1 record count: 639
[2025-07-08T11:18:44.118703 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 80500 quota: 157286400 flight_tasks: 1 record count: 644
[2025-07-08T11:18:44.129405 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 80500 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:18:44.137056 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 79875 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:18:44.184728 I 14513] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 11 ,thread: 14513 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:18:44.185364 I 14494] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:18:44.185420 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:18:44.199064 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:18:44.199812 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973523995462
[2025-07-08T11:18:44.199862 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973523995462
[2025-07-08T11:18:44.312515 I 14513] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 11 ,thread: 14513 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:18:50.886623 I 14496] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:18:54.100004 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60343208, allocated 59027656, frag ratio 2.2 , heap full: 0
[2025-07-08T11:18:54.100069 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60809200, allocated 59511552, frag ratio 2.1 , heap full: 0
[2025-07-08T11:18:54.100086 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 288, committed 4096, full: 0
[2025-07-08T11:18:54.100106 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973534098604. The memory usage of node is: 115760 KB.
[2025-07-08T11:18:54.105865 I 14433] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 101750 quota: 157286400 flight_tasks: 1 record count: 814
[2025-07-08T11:18:54.107110 I 14434] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 101000 quota: 157286400 flight_tasks: 1 record count: 808
[2025-07-08T11:18:54.117152 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 101750 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:18:54.129199 I 14432] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 101000 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:18:54.166203 I 14432] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:18:54.166250 I 14432] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:18:54.166314 I 14492] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:18:54.166646 I 14432] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973534098604
[2025-07-08T11:18:54.166693 I 14432] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973534098604
[2025-07-08T11:19:00.888890 I 14484] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:19:04.103808 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60343208, allocated 59027672, frag ratio 2.2 , heap full: 0
[2025-07-08T11:19:04.103875 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60809200, allocated 59511696, frag ratio 2.1 , heap full: 0
[2025-07-08T11:19:04.103890 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 304, committed 4096, full: 0
[2025-07-08T11:19:04.103910 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973544101753. The memory usage of node is: 115761 KB.
[2025-07-08T11:19:04.109601 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973544101753
[2025-07-08T11:19:04.109665 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973544101753
[2025-07-08T11:19:14.117110 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60343208, allocated 59027624, frag ratio 2.2 , heap full: 0
[2025-07-08T11:19:14.117180 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60809200, allocated 59511552, frag ratio 2.1 , heap full: 0
[2025-07-08T11:19:14.117198 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 320, committed 4096, full: 0
[2025-07-08T11:19:14.117219 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973554116953. The memory usage of node is: 115760 KB.
[2025-07-08T11:19:14.122133 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973554116953
[2025-07-08T11:19:14.122205 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973554116953
[2025-07-08T11:19:24.126490 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60343208, allocated 59035816, frag ratio 2.2 , heap full: 0
[2025-07-08T11:19:24.126564 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60809200, allocated 59519888, frag ratio 2.1 , heap full: 0
[2025-07-08T11:19:24.126581 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 336, committed 4096, full: 0
[2025-07-08T11:19:24.126603 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973564125260. The memory usage of node is: 115777 KB.
[2025-07-08T11:19:24.127712 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973564125260
[2025-07-08T11:19:24.127761 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973564125260
[2025-07-08T11:19:34.139992 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60343208, allocated 59027624, frag ratio 2.2 , heap full: 0
[2025-07-08T11:19:34.140055 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 60809200, allocated 59511696, frag ratio 2.1 , heap full: 0
[2025-07-08T11:19:34.140082 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 352, committed 4096, full: 0
[2025-07-08T11:19:34.140101 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973574137674. The memory usage of node is: 115761 KB.
[2025-07-08T11:19:34.142604 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973574137674
[2025-07-08T11:19:34.142654 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973574137674
[2025-07-08T11:19:39.682430 I 14394] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4402341513564
[2025-07-08T11:19:39.699635 I 14394] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4402341513564
[2025-07-08T11:19:39.725345 I 14394] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4402341513564
[2025-07-08T11:19:39.726706 I 14393] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:19:39.726781 I 14394] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:19:39.729475 I 14602] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:19:39.730018 I 14394] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4402341513564
[2025-07-08T11:19:39.736464 I 14394] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:19:39.770682 I 14394] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:19:39.770761 I 14394] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4402341513564, tx_term: 2, tx_ng_id: 1
[2025-07-08T11:19:41.730684 I 14394] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4402341513564
[2025-07-08T11:19:41.735497 I 14394] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4402341513564
[2025-07-08T11:19:41.743364 I 14394] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4402341513564
[2025-07-08T11:19:41.754894 I 14404] [sharder.cpp:1276] Updating in memory cluster config to version 1751973580803471
[2025-07-08T11:19:41.754927 I 14404] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:19:41.754941 I 14404] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:19:41.754952 I 14404] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:19:41.755008 I 14404] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:19:41.827505 I 14394] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4402341513564
[2025-07-08T11:19:41.830834 I 14404] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:19:41.831450 I 14394] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:19:41.831483 I 14394] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:19:41.831609 I 14603] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:19:41.838670 I 14394] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4402341513564, tx_term: 2, tx_ng_id: 1
[2025-07-08T11:19:42.904397 I 14394] [socket.cpp:2848] Checking Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x36e0a910600)
[2025-07-08T11:19:42.905596 I 14393] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x36e82130000)
[2025-07-08T11:19:44.152557 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60584496, allocated 59068736, frag ratio 2.5 , heap full: 0
[2025-07-08T11:19:44.152627 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 63290640, allocated 60937480, frag ratio 3.7 , heap full: 0
[2025-07-08T11:19:44.152647 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 368, committed 4096, full: 0
[2025-07-08T11:19:44.152679 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973584151266. The memory usage of node is: 117193 KB.
[2025-07-08T11:19:44.152761 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973584151266
[2025-07-08T11:19:44.152786 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973584151266
[2025-07-08T11:19:54.158751 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 60842016, allocated 59339472, frag ratio 2.5 , heap full: 0
[2025-07-08T11:19:54.158821 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 63454080, allocated 61203256, frag ratio 3.5 , heap full: 0
[2025-07-08T11:19:54.158839 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 384, committed 4096, full: 0
[2025-07-08T11:19:54.158869 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973594158617. The memory usage of node is: 117717 KB.
[2025-07-08T11:19:54.159034 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973594158617
[2025-07-08T11:19:54.159068 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973594158617
[2025-07-08T11:20:04.169468 I 14400] [cc_request.h:2722] ccs 0 memory usage report, committed 61120112, allocated 59628016, frag ratio 2.4 , heap full: 0
[2025-07-08T11:20:04.169535 I 14400] [cc_request.h:2722] ccs 1 memory usage report, committed 63453648, allocated 61491400, frag ratio 3.1 , heap full: 0
[2025-07-08T11:20:04.169552 I 14400] [local_cc_shards.h:474] Table range memory report: allocated 400, committed 4096, full: 0
[2025-07-08T11:20:04.169575 I 14400] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973604165173. The memory usage of node is: 118280 KB.
[2025-07-08T11:20:04.170688 I 14400] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973604165173
[2025-07-08T11:20:04.171466 I 14400] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973604165173

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:20:42.847836 I 14876] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:20:42.849447 I 14876] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:20:42.850011 I 14876] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:20:42.873155 I 14876] [util.h:378] Successfully loaded cluster config from file with version 1751973642692631
[2025-07-08T11:20:42.873207 I 14876] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:20:42.873225 I 14876] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:20:42.873248 I 14876] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:20:42.873260 I 14876] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:20:42.873271 I 14876] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:20:42.873282 I 14876] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:20:42.889911 I 14876] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:20:42.905288 I 14876] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:20:42.905332 I 14876] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:20:42.905825 I 14876] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:20:42.905982 I 14876] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:20:42.906177 I 14876] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:20:42.971028 I 14876] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:20:42.993197 I 14876] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:20:42.993357 I 14876] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:20:42.993748 I 14876] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:20:42.993803 I 14876] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:20:42.993817 I 14876] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:20:43.000491 I 14876] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:20:43.000532 I 14876] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:20:43.008162 I 14876] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:20:43.008203 I 14876] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:20:43.008220 I 14876] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:20:43.009414 I 14876] [sharder.cpp:371] Spawned host manager process with PID: 14903
[2025-07-08T11:20:43.141512 I 14876] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:20:43.142076 I 14876] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:20:43.144999 I 14876] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:20:43.145030 I 14876] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:20:43.151198 I 14901] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:20:43.156757 I 14899] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:20:43.157759 I 14901] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:20:43.164657 I 14901] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:20:43.172456 I 14901] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:20:44.154574 I 14899] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:20:45.519009 I 14889] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:20:45.520118 I 14889] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:20:45.532433 I 14889] [log_replay_service.cpp:274] replay service accepting new stream: 257 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:20:45.766018 I 14889] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:20:45.997953 I 14888] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:20:46.064118 I 14888] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:20:46.064188 I 14888] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:20:46.064980 I 14888] [log_replay_service.cpp:717] replay service stream: 257, is closed, active stream cnt: 0
[2025-07-08T11:20:46.068411 I 14876] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:20:46.068456 W 14876] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:20:46.068480 I 14876] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:20:50.111783 I 14889] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:20:50.111886 I 14889] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:20:50.612502 I 14889] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:20:50.612623 I 14889] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x4424f7b7460, schema_ts: 100
[2025-07-08T11:20:50.628230 I 14888] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x4424f7b7460, schema_ts: 100
[2025-07-08T11:20:53.000850 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 67724184, allocated 66543912, frag ratio 1.7 , heap full: 0
[2025-07-08T11:20:53.000931 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 68225616, allocated 67303776, frag ratio 1.4 , heap full: 0
[2025-07-08T11:20:53.000954 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:20:53.000998 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973652996975. The memory usage of node is: 130710 KB.
[2025-07-08T11:20:53.003443 I 14928] [local_cc_shards.cpp:4585] scan_cc: 132775481255552  scan data cnt is 0
[2025-07-08T11:20:53.005192 I 14929] [local_cc_shards.cpp:4585] scan_cc: 132775472862848  scan data cnt is 0
[2025-07-08T11:20:53.007735 I 14929] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973652996975
[2025-07-08T11:20:53.007787 I 14929] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973652996975
[2025-07-08T11:21:03.005488 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 67809880, allocated 66500896, frag ratio 1.9 , heap full: 0
[2025-07-08T11:21:03.005556 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 68356080, allocated 67363840, frag ratio 1.5 , heap full: 0
[2025-07-08T11:21:03.005571 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:21:03.005592 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973663002281. The memory usage of node is: 130727 KB.
[2025-07-08T11:21:03.012069 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973663002281
[2025-07-08T11:21:03.012166 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973663002281
[2025-07-08T11:21:13.026423 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 67931640, allocated 66691168, frag ratio 1.8 , heap full: 0
[2025-07-08T11:21:13.026489 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 68526928, allocated 67524488, frag ratio 1.5 , heap full: 0
[2025-07-08T11:21:13.026504 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:21:13.026526 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973673022450. The memory usage of node is: 131069 KB.
[2025-07-08T11:21:13.028501 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973673022450
[2025-07-08T11:21:13.028553 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973673022450
[2025-07-08T11:21:23.050736 I 14889] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:21:23.052592 I 14888] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:21:23.052657 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 60007960, allocated 57729096, frag ratio 3.8 , heap full: 0
[2025-07-08T11:21:23.052706 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 60605072, allocated 58483136, frag ratio 3.5 , heap full: 0
[2025-07-08T11:21:23.052923 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:21:23.052958 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973682969195. The memory usage of node is: 113488 KB.
[2025-07-08T11:21:23.058470 I 14929] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 2886 quota: 157286400 flight_tasks: 1 record count: 26
[2025-07-08T11:21:23.059816 I 14928] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 2220 quota: 157286400 flight_tasks: 1 record count: 20
[2025-07-08T11:21:23.061810 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 2886 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:21:23.067034 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 2220 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:21:23.108583 I 14927] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:21:23.108625 I 14927] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:21:23.114542 I 14927] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973682969195
[2025-07-08T11:21:23.114589 I 14927] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973682969195
[2025-07-08T11:21:33.059026 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 59852088, allocated 57945352, frag ratio 3.2 , heap full: 0
[2025-07-08T11:21:33.059089 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 59926928, allocated 58745392, frag ratio 2 , heap full: 0
[2025-07-08T11:21:33.059104 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:21:33.059121 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973693025552. The memory usage of node is: 113955 KB.
[2025-07-08T11:21:33.064210 I 14929] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 100011 quota: 157286400 flight_tasks: 1 record count: 901
[2025-07-08T11:21:33.065717 I 14928] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 99456 quota: 157286400 flight_tasks: 1 record count: 896
[2025-07-08T11:21:33.084344 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 100011 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:21:33.099411 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 99456 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:21:33.147887 I 14927] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:21:33.157301 I 14927] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:21:33.160832 I 14927] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973693025552
[2025-07-08T11:21:33.177242 I 14927] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973693025552
[2025-07-08T11:21:43.062402 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 59434648, allocated 58034536, frag ratio 2.4 , heap full: 0
[2025-07-08T11:21:43.067481 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 60044016, allocated 58838288, frag ratio 2 , heap full: 0
[2025-07-08T11:21:43.067531 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:21:43.067553 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973703059731. The memory usage of node is: 114133 KB.
[2025-07-08T11:21:43.072410 I 14929] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 63159 quota: 157286400 flight_tasks: 1 record count: 569
[2025-07-08T11:21:43.075503 I 14928] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 61494 quota: 157286400 flight_tasks: 1 record count: 554
[2025-07-08T11:21:43.085691 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 61494 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:21:43.104409 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 63159 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:21:43.145401 I 14927] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:21:43.145445 I 14927] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:21:43.147573 I 14927] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973703059731
[2025-07-08T11:21:43.147624 I 14927] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973703059731
[2025-07-08T11:21:53.071419 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 59434648, allocated 58042920, frag ratio 2.3 , heap full: 0
[2025-07-08T11:21:53.071484 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 60044016, allocated 58838000, frag ratio 2 , heap full: 0
[2025-07-08T11:21:53.071503 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:21:53.071524 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973713069224. The memory usage of node is: 114141 KB.
[2025-07-08T11:21:53.071879 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973713069224
[2025-07-08T11:21:53.073115 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973713069224
[2025-07-08T11:22:02.739715 I 14889] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_1  paras=action=panic
[2025-07-08T11:22:03.078717 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 59434648, allocated 58042984, frag ratio 2.3 , heap full: 0
[2025-07-08T11:22:03.078783 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 60044016, allocated 58830608, frag ratio 2 , heap full: 0
[2025-07-08T11:22:03.078800 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:22:03.078821 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973723078462. The memory usage of node is: 114134 KB.
[2025-07-08T11:22:03.078903 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973723078462
[2025-07-08T11:22:03.078928 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973723078462
[2025-07-08T11:22:03.908249 I 14889] [socket.cpp:2848] Checking Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x44226910600)
[2025-07-08T11:22:07.053534 I 14889] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:22:07.055202 I 14889] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:22:07.227332 I 14901] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:22:07.561300 I 14888] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#1.
[2025-07-08T11:22:09.074992 I 14889] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:22:09.075243 I 14889] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:22:09.075361 I 14889] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-2
[2025-07-08T11:22:09.075424 I 14889] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 2
[2025-07-08T11:22:09.075486 I 14889] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 5 ms
[2025-07-08T11:22:09.075552 I 14889] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-2 new_cookie_on_open: 0-3
[2025-07-08T11:22:09.237679 I 14889] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 161 ms
[2025-07-08T11:22:09.249588 I 14889] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:22:09.249643 E 14889] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:22:09.256049 I 14888] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:22:09.256219 I 14888] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:22:09.256253 I 14888] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:22:09.275740 I 14888] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:22:09.275771 I 14888] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:22:09.275805 I 14888] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:22:09.306540 I 14889] [cc_req_misc.cpp:430] ccshard: 0; clear ccmaps and catalogs of node group: 1
[2025-07-08T11:22:09.912478 I 14889] [socket.cpp:2908] Revived Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x44226910600) (Connectable)
[2025-07-08T11:22:10.062206 I 14889] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#1.
[2025-07-08T11:22:10.101575 I 14888] [cc_req_misc.cpp:430] ccshard: 1; clear ccmaps and catalogs of node group: 1
[2025-07-08T11:22:10.518864 I 14889] [cc_node.cpp:347] CC node 1 becomes the leader of ng#0. Term: 4
[2025-07-08T11:22:10.538717 I 14889] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 3
[2025-07-08T11:22:10.543270 I 14888] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:1
[2025-07-08T11:22:10.550779 I 14888] [log_replay_service.cpp:274] replay service accepting new stream: 8589934766 from log group: 0 to cc_ng: 0 at term: 4
[2025-07-08T11:22:10.558713 I 14889] [cc_node.cpp:126] The leader of cc node group ng#0 with the term 4 has been recovered.
[2025-07-08T11:22:10.558761 I 14889] [log_replay_service.cpp:616] replay connection: cc node group: 0, term: 4, log group: 0, set recovering status to finished
[2025-07-08T11:22:10.558842 I 14889] [log_replay_service.cpp:717] replay service stream: 8589934766, is closed, active stream cnt: 0
[2025-07-08T11:22:10.561517 I 14889] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:22:10.565268 I 14889] [log_replay_service.cpp:274] replay service accepting new stream: 25769803950 from log group: 0 to cc_ng: 1 at term: 3
[2025-07-08T11:22:10.566670 I 14889] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 3 has been recovered.
[2025-07-08T11:22:10.566704 I 14889] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 3, log group: 0, set recovering status to finished
[2025-07-08T11:22:10.566764 I 14889] [log_replay_service.cpp:717] replay service stream: 25769803950, is closed, active stream cnt: 0
[2025-07-08T11:22:11.517799 I 14889] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#0.
[2025-07-08T11:22:11.559988 I 14888] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:22:11.564823 I 14889] [cc_req_misc.cpp:430] ccshard: 0; clear ccmaps and catalogs of node group: 0
[2025-07-08T11:22:13.083163 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57323704, allocated 55704640, frag ratio 2.8 , heap full: 0
[2025-07-08T11:22:13.083236 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 57926928, allocated 56487232, frag ratio 2.5 , heap full: 0
[2025-07-08T11:22:13.083257 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:22:13.083279 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973733083126. The memory usage of node is: 109562 KB.
[2025-07-08T11:22:13.083316 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973733083126
[2025-07-08T11:22:13.083338 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973733083126
[2025-07-08T11:22:16.323644 I 15085] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:22:16.323946 I 14889] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x4424f7ba100, schema_ts: 100
[2025-07-08T11:22:16.388437 I 14888] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x4424f7ba100, schema_ts: 100
[2025-07-08T11:22:23.088050 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57335896, allocated 55839928, frag ratio 2.6 , heap full: 0
[2025-07-08T11:22:23.088115 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 57939120, allocated 56620624, frag ratio 2.3 , heap full: 0
[2025-07-08T11:22:23.088131 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:22:23.088150 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973743086877. The memory usage of node is: 109824 KB.
[2025-07-08T11:22:23.088212 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973743086877
[2025-07-08T11:22:23.088234 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973743086877
[2025-07-08T11:22:33.094561 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57354328, allocated 56021120, frag ratio 2.3 , heap full: 0
[2025-07-08T11:22:33.094626 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 57953456, allocated 56801536, frag ratio 2 , heap full: 0
[2025-07-08T11:22:33.094645 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:22:33.094664 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973753093539. The memory usage of node is: 110178 KB.
[2025-07-08T11:22:33.095750 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973753093539
[2025-07-08T11:22:33.095798 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973753093539
[2025-07-08T11:22:43.099901 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57520024, allocated 56209648, frag ratio 2.3 , heap full: 0
[2025-07-08T11:22:43.099956 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58129392, allocated 56995136, frag ratio 2 , heap full: 0
[2025-07-08T11:22:43.099967 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:22:43.099985 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973763099838. The memory usage of node is: 110551 KB.
[2025-07-08T11:22:43.100050 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973763099838
[2025-07-08T11:22:43.100072 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973763099838
[2025-07-08T11:22:53.106539 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57590680, allocated 56283792, frag ratio 2.3 , heap full: 0
[2025-07-08T11:22:53.106611 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58193904, allocated 57069520, frag ratio 1.9 , heap full: 0
[2025-07-08T11:22:53.106631 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:22:53.106653 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973773104715. The memory usage of node is: 110696 KB.
[2025-07-08T11:22:53.113647 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973773104715
[2025-07-08T11:22:53.113710 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973773104715
[2025-07-08T11:23:03.123409 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57590680, allocated 56283648, frag ratio 2.3 , heap full: 0
[2025-07-08T11:23:03.123473 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58193904, allocated 57071968, frag ratio 1.9 , heap full: 0
[2025-07-08T11:23:03.123489 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 208, committed 4096, full: 0
[2025-07-08T11:23:03.123510 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973783118448. The memory usage of node is: 110698 KB.
[2025-07-08T11:23:03.124619 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973783118448
[2025-07-08T11:23:03.124682 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973783118448
[2025-07-08T11:23:13.132488 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57590680, allocated 56283328, frag ratio 2.3 , heap full: 0
[2025-07-08T11:23:13.132563 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58193904, allocated 57070096, frag ratio 1.9 , heap full: 0
[2025-07-08T11:23:13.132580 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 224, committed 4096, full: 0
[2025-07-08T11:23:13.132601 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973793132441. The memory usage of node is: 110696 KB.
[2025-07-08T11:23:13.133669 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973793132441
[2025-07-08T11:23:13.134605 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973793132441
[2025-07-08T11:23:17.247779 I 15086] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:23:23.152462 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57731800, allocated 56502992, frag ratio 2.1 , heap full: 0
[2025-07-08T11:23:23.152521 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58335024, allocated 57273472, frag ratio 1.8 , heap full: 0
[2025-07-08T11:23:23.152536 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 240, committed 4096, full: 0
[2025-07-08T11:23:23.152555 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973803149571. The memory usage of node is: 111109 KB.
[2025-07-08T11:23:23.175329 I 14929] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 95937 quota: 157286400 flight_tasks: 1 record count: 849
[2025-07-08T11:23:23.177757 I 14928] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 94355 quota: 157286400 flight_tasks: 1 record count: 835
[2025-07-08T11:23:23.190433 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 95937 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:23:23.206931 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 94355 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:23:23.241886 I 15095] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:23:23.241935 I 14927] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:23:23.241952 I 14927] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:23:23.243775 I 14927] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973803149571
[2025-07-08T11:23:23.243991 I 14927] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973803149571
[2025-07-08T11:23:27.224924 I 15097] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:23:33.156270 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57847416, allocated 56586672, frag ratio 2.2 , heap full: 0
[2025-07-08T11:23:33.164477 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58450640, allocated 57375568, frag ratio 1.8 , heap full: 0
[2025-07-08T11:23:33.164526 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 256, committed 4096, full: 0
[2025-07-08T11:23:33.164551 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973813155096. The memory usage of node is: 111291 KB.
[2025-07-08T11:23:33.170435 I 14929] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 72433 quota: 157286400 flight_tasks: 1 record count: 641
[2025-07-08T11:23:33.172441 I 14928] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 71755 quota: 157286400 flight_tasks: 1 record count: 635
[2025-07-08T11:23:33.177968 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 72433 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:23:33.195636 I 14927] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 71755 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:23:33.266194 I 15091] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:23:33.266247 I 14927] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:23:33.266263 I 14927] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:23:33.266531 I 15152] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 6 ,thread: 15152 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:23:33.273444 I 14927] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973813155096
[2025-07-08T11:23:33.273499 I 14927] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973813155096
[2025-07-08T11:23:33.329589 I 15152] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 6 ,thread: 15152 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:23:37.230468 I 15088] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:23:43.168838 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57847416, allocated 56586736, frag ratio 2.2 , heap full: 0
[2025-07-08T11:23:43.168944 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58450640, allocated 57384016, frag ratio 1.8 , heap full: 0
[2025-07-08T11:23:43.168960 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 272, committed 4096, full: 0
[2025-07-08T11:23:43.168980 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973823167777. The memory usage of node is: 111299 KB.
[2025-07-08T11:23:43.171118 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973823167777
[2025-07-08T11:23:43.171165 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973823167777
[2025-07-08T11:23:53.190657 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57847416, allocated 56586736, frag ratio 2.2 , heap full: 0
[2025-07-08T11:23:53.190729 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58450640, allocated 57375632, frag ratio 1.8 , heap full: 0
[2025-07-08T11:23:53.190747 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 288, committed 4096, full: 0
[2025-07-08T11:23:53.190769 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973833189556. The memory usage of node is: 111291 KB.
[2025-07-08T11:23:53.194474 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973833189556
[2025-07-08T11:23:53.194532 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973833189556
[2025-07-08T11:24:03.203478 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 57847416, allocated 56586704, frag ratio 2.2 , heap full: 0
[2025-07-08T11:24:03.203550 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 58450640, allocated 57383568, frag ratio 1.8 , heap full: 0
[2025-07-08T11:24:03.203567 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 304, committed 4096, full: 0
[2025-07-08T11:24:03.203590 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973843199207. The memory usage of node is: 111299 KB.
[2025-07-08T11:24:03.204635 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973843199207
[2025-07-08T11:24:03.204684 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973843199207
[2025-07-08T11:24:04.084674 I 14889] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_1  paras=remove
[2025-07-08T11:24:05.110641 I 14888] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4402341499102
[2025-07-08T11:24:05.153586 I 14888] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4402341499102
[2025-07-08T11:24:05.189282 I 14888] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4402341499102
[2025-07-08T11:24:05.190105 I 14888] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:24:05.194046 I 14888] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:24:05.198571 I 15271] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:24:05.199133 I 14888] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4402341499102
[2025-07-08T11:24:05.209426 I 14888] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:24:05.229815 I 14888] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:24:05.229888 I 14888] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4402341499102, tx_term: 3, tx_ng_id: 1
[2025-07-08T11:24:09.491466 I 14888] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4402341499102
[2025-07-08T11:24:09.497443 I 14888] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4402341499102
[2025-07-08T11:24:09.506453 I 14888] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4402341499102
[2025-07-08T11:24:09.531473 I 14899] [sharder.cpp:1276] Updating in memory cluster config to version 1751973845078208
[2025-07-08T11:24:09.531518 I 14899] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:24:09.531533 I 14899] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:24:09.531546 I 14899] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:24:09.531608 I 14899] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:24:09.599514 I 14888] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4402341499102
[2025-07-08T11:24:09.599864 I 14888] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:24:09.599884 I 14888] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:24:09.599978 I 15272] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:24:09.601492 I 14899] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:24:09.604964 I 14888] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4402341499102, tx_term: 3, tx_ng_id: 1
[2025-07-08T11:24:10.502810 I 14889] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x4429e130000)
[2025-07-08T11:24:13.209367 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 59901480, allocated 58462016, frag ratio 2.4 , heap full: 0
[2025-07-08T11:24:13.209441 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 62295712, allocated 60420728, frag ratio 3 , heap full: 0
[2025-07-08T11:24:13.209460 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 320, committed 4096, full: 0
[2025-07-08T11:24:13.209481 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973853209311. The memory usage of node is: 116096 KB.
[2025-07-08T11:24:13.209563 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973853209311
[2025-07-08T11:24:13.209594 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973853209311
[2025-07-08T11:24:23.213802 I 14895] [cc_request.h:2722] ccs 0 memory usage report, committed 59913672, allocated 58690960, frag ratio 2 , heap full: 0
[2025-07-08T11:24:23.213864 I 14895] [cc_request.h:2722] ccs 1 memory usage report, committed 62506304, allocated 60644120, frag ratio 3 , heap full: 0
[2025-07-08T11:24:23.213879 I 14895] [local_cc_shards.h:474] Table range memory report: allocated 336, committed 4096, full: 0
[2025-07-08T11:24:23.213898 I 14895] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973863213748. The memory usage of node is: 116538 KB.
[2025-07-08T11:24:23.213968 I 14895] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973863213748
[2025-07-08T11:24:23.213997 I 14895] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973863213748

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:24:54.642431 I 15544] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:24:54.643743 I 15544] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:24:54.644121 I 15544] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:24:54.658221 I 15544] [util.h:378] Successfully loaded cluster config from file with version 1751973894428778
[2025-07-08T11:24:54.658267 I 15544] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:24:54.658281 I 15544] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:24:54.658293 I 15544] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:24:54.658303 I 15544] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:24:54.658313 I 15544] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:24:54.658324 I 15544] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:24:54.670408 I 15544] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:24:54.687429 I 15544] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:24:54.689028 I 15544] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:24:54.689541 I 15544] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:24:54.689702 I 15544] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:24:54.689904 I 15544] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:24:54.748510 I 15544] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:24:54.770530 I 15544] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:24:54.770685 I 15544] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:24:54.771072 I 15544] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:24:54.771132 I 15544] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:24:54.771149 I 15544] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:24:54.779742 I 15544] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:24:54.779783 I 15544] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:24:54.781172 I 15544] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:24:54.781201 I 15544] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:24:54.781216 I 15544] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:24:54.789158 I 15544] [sharder.cpp:371] Spawned host manager process with PID: 15571
[2025-07-08T11:24:54.919448 I 15544] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:24:54.919966 I 15544] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:24:54.921537 I 15544] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:24:54.921577 I 15544] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:24:54.928174 I 15569] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:24:54.931516 I 15569] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:24:54.937470 I 15569] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:24:54.942519 I 15567] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:24:54.948470 I 15569] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:24:55.925753 I 15567] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:24:57.467700 I 15557] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:24:57.470682 I 15557] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:24:57.496582 I 15557] [log_replay_service.cpp:274] replay service accepting new stream: 257 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:24:57.695742 I 15556] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:24:57.903234 I 15557] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:24:57.949267 I 15556] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:24:57.949331 I 15556] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:24:57.949440 I 15556] [log_replay_service.cpp:717] replay service stream: 257, is closed, active stream cnt: 0
[2025-07-08T11:24:57.951143 I 15544] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:24:57.951186 W 15544] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:24:57.951207 I 15544] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:24:59.248054 I 15557] [cc_node_service.cpp:1223] CcNodeService Received UploadBatch RPC of #ng1 for table:data_table_0
[2025-07-08T11:24:59.249687 I 15557] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:24:59.249809 I 15557] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x22e8d7b7460, schema_ts: 100
[2025-07-08T11:24:59.250020 I 15556] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x22e8d7b7460, schema_ts: 100
[2025-07-08T11:24:59.251842 I 15556] [cc_node_service.cpp:1267] CcNodeService UploadBatch RPC of #ng1 finished with error: 0
[2025-07-08T11:25:02.158596 I 15557] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:25:02.158648 I 15557] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:25:04.773092 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 67546488, allocated 66493808, frag ratio 1.6 , heap full: 0
[2025-07-08T11:25:04.773175 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 68436176, allocated 67411288, frag ratio 1.5 , heap full: 0
[2025-07-08T11:25:04.773192 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:25:04.773223 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973904772858. The memory usage of node is: 130766 KB.
[2025-07-08T11:25:04.774559 I 15597] [local_cc_shards.cpp:4585] scan_cc: 130911179343488  scan data cnt is 0
[2025-07-08T11:25:04.775852 I 15596] [local_cc_shards.cpp:4585] scan_cc: 130911187736192  scan data cnt is 0
[2025-07-08T11:25:04.777506 I 15596] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973904772858
[2025-07-08T11:25:04.777572 I 15596] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973904772858
[2025-07-08T11:25:14.773929 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 67652824, allocated 66566016, frag ratio 1.6 , heap full: 0
[2025-07-08T11:25:14.773993 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 68589104, allocated 67409376, frag ratio 1.7 , heap full: 0
[2025-07-08T11:25:14.774009 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:25:14.774029 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973914773885. The memory usage of node is: 130835 KB.
[2025-07-08T11:25:14.774088 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973914773885
[2025-07-08T11:25:14.774139 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973914773885
[2025-07-08T11:25:24.783452 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 67764440, allocated 66676504, frag ratio 1.6 , heap full: 0
[2025-07-08T11:25:24.783524 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 68721104, allocated 67528432, frag ratio 1.7 , heap full: 0
[2025-07-08T11:25:24.783541 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:25:24.783560 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973924783429. The memory usage of node is: 131059 KB.
[2025-07-08T11:25:24.783681 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973924783429
[2025-07-08T11:25:24.783715 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973924783429
[2025-07-08T11:25:34.798694 I 15557] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:25:34.801533 I 15556] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:25:34.801609 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 59628856, allocated 57709424, frag ratio 3.2 , heap full: 0
[2025-07-08T11:25:34.801709 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 60459184, allocated 58658536, frag ratio 3 , heap full: 0
[2025-07-08T11:25:34.801731 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:25:34.801759 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973934775863. The memory usage of node is: 113640 KB.
[2025-07-08T11:25:34.804620 I 15597] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 33966 quota: 157286400 flight_tasks: 1 record count: 306
[2025-07-08T11:25:34.809005 I 15596] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 32412 quota: 157286400 flight_tasks: 1 record count: 292
[2025-07-08T11:25:34.811065 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 33966 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:25:34.815490 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 32412 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:25:34.846185 I 15595] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:25:34.846230 I 15595] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:25:34.848733 I 15595] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973934775863
[2025-07-08T11:25:34.848788 I 15595] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973934775863
[2025-07-08T11:25:44.811645 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 59364472, allocated 57928672, frag ratio 2.4 , heap full: 0
[2025-07-08T11:25:44.811705 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 60667824, allocated 58883416, frag ratio 2.9 , heap full: 0
[2025-07-08T11:25:44.811720 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:25:44.811746 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973944796816. The memory usage of node is: 114074 KB.
[2025-07-08T11:25:44.821050 I 15596] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 115773 quota: 157286400 flight_tasks: 1 record count: 1043
[2025-07-08T11:25:44.827189 I 15597] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 116883 quota: 157286400 flight_tasks: 1 record count: 1053
[2025-07-08T11:25:44.842989 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 115773 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:25:44.857786 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 116883 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:25:44.891767 I 15595] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:25:44.891872 I 15595] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:25:44.895197 I 15595] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973944796816
[2025-07-08T11:25:44.895246 I 15595] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973944796816
[2025-07-08T11:25:54.815485 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 59329592, allocated 57921600, frag ratio 2.4 , heap full: 0
[2025-07-08T11:25:54.815550 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 60169136, allocated 58878872, frag ratio 2.1 , heap full: 0
[2025-07-08T11:25:54.815567 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:25:54.815587 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973954812589. The memory usage of node is: 114062 KB.
[2025-07-08T11:25:54.819525 I 15596] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 14985 quota: 157286400 flight_tasks: 1 record count: 135
[2025-07-08T11:25:54.822728 I 15597] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 15207 quota: 157286400 flight_tasks: 1 record count: 137
[2025-07-08T11:25:54.825722 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 14985 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:25:54.827440 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 15207 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:25:54.853833 I 15595] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:25:54.853897 I 15595] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:25:54.856971 I 15595] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751973954812589
[2025-07-08T11:25:54.857023 I 15595] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973954812589
[2025-07-08T11:26:04.825582 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 59333176, allocated 57915104, frag ratio 2.4 , heap full: 0
[2025-07-08T11:26:04.825652 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 60169136, allocated 58879064, frag ratio 2.1 , heap full: 0
[2025-07-08T11:26:04.825670 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:26:04.825691 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973964817436. The memory usage of node is: 114056 KB.
[2025-07-08T11:26:04.830709 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973964817436
[2025-07-08T11:26:04.830775 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973964817436
[2025-07-08T11:26:06.359427 I 15556] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_2  paras=action=panic
[2025-07-08T11:26:07.497238 I 15557] [socket.cpp:2848] Checking Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x22e66910600)
[2025-07-08T11:26:09.472856 I 15557] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#1.
[2025-07-08T11:26:09.506692 I 15557] [cc_req_misc.cpp:430] ccshard: 1; clear ccmaps and catalogs of node group: 1
[2025-07-08T11:26:10.647678 I 15557] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:26:10.649266 I 15557] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:26:10.816875 I 15556] [cc_stream_receiver.cpp:1532] RecoverStateCheckRequest, node 1 is not leader of node group 1
[2025-07-08T11:26:10.822997 I 15569] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:26:11.690939 I 15556] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 3
[2025-07-08T11:26:11.710511 I 15556] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:26:11.718102 I 15556] [log_replay_service.cpp:274] replay service accepting new stream: 25769803779 from log group: 0 to cc_ng: 1 at term: 3
[2025-07-08T11:26:11.719784 I 15556] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 3 has been recovered.
[2025-07-08T11:26:11.719820 I 15556] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 3, log group: 0, set recovering status to finished
[2025-07-08T11:26:11.719866 I 15556] [log_replay_service.cpp:717] replay service stream: 25769803779, is closed, active stream cnt: 0
[2025-07-08T11:26:12.662937 I 15557] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:26:12.663005 I 15557] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:26:12.663028 I 15557] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-2
[2025-07-08T11:26:12.663043 I 15557] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 2
[2025-07-08T11:26:12.663055 I 15557] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 1 ms
[2025-07-08T11:26:12.663072 I 15557] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-2 new_cookie_on_open: 0-3
[2025-07-08T11:26:12.759497 I 15557] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 96 ms
[2025-07-08T11:26:12.773471 I 15557] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:26:12.773540 E 15557] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:26:12.776986 I 15557] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:26:12.777134 I 15557] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:26:12.777154 I 15557] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:26:12.792704 I 15557] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:26:12.792739 I 15557] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:26:12.792773 I 15557] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:26:13.437930 I 15557] [cc_node.cpp:347] CC node 1 becomes the leader of ng#0. Term: 4
[2025-07-08T11:26:13.471203 I 15557] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:1
[2025-07-08T11:26:13.478912 I 15557] [log_replay_service.cpp:274] replay service accepting new stream: 17179869273 from log group: 0 to cc_ng: 0 at term: 4
[2025-07-08T11:26:13.481828 I 15557] [cc_node.cpp:126] The leader of cc node group ng#0 with the term 4 has been recovered.
[2025-07-08T11:26:13.481859 I 15557] [log_replay_service.cpp:616] replay connection: cc node group: 0, term: 4, log group: 0, set recovering status to finished
[2025-07-08T11:26:13.481942 I 15557] [log_replay_service.cpp:717] replay service stream: 17179869273, is closed, active stream cnt: 0
[2025-07-08T11:26:13.499871 I 15557] [socket.cpp:2908] Revived Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x22e66910600) (Connectable)
[2025-07-08T11:26:14.435953 I 15557] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#0.
[2025-07-08T11:26:14.467604 I 15557] [cc_req_misc.cpp:430] ccshard: 1; clear ccmaps and catalogs of node group: 0
[2025-07-08T11:26:14.556138 I 15557] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:26:14.838840 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57295864, allocated 55592480, frag ratio 3 , heap full: 0
[2025-07-08T11:26:14.838904 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58117488, allocated 56543536, frag ratio 2.7 , heap full: 0
[2025-07-08T11:26:14.838918 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:26:14.838937 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973974838554. The memory usage of node is: 109507 KB.
[2025-07-08T11:26:14.838971 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973974838554
[2025-07-08T11:26:14.838992 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973974838554
[2025-07-08T11:26:18.944265 I 15756] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:26:18.944595 I 15556] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x22e8d7ba170, schema_ts: 100
[2025-07-08T11:26:19.009666 I 15557] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x22e8d7ba170, schema_ts: 100
[2025-07-08T11:26:24.865595 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57308056, allocated 55702704, frag ratio 2.8 , heap full: 0
[2025-07-08T11:26:24.865665 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58137296, allocated 56652784, frag ratio 2.6 , heap full: 0
[2025-07-08T11:26:24.865684 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:26:24.865703 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973984864451. The memory usage of node is: 109722 KB.
[2025-07-08T11:26:24.865769 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973984864451
[2025-07-08T11:26:24.865793 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973984864451
[2025-07-08T11:26:34.873457 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57314200, allocated 55891328, frag ratio 2.5 , heap full: 0
[2025-07-08T11:26:34.873533 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58137296, allocated 56840672, frag ratio 2.2 , heap full: 0
[2025-07-08T11:26:34.873553 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:26:34.873574 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751973994873203. The memory usage of node is: 110089 KB.
[2025-07-08T11:26:34.877455 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751973994873203
[2025-07-08T11:26:34.877506 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751973994873203
[2025-07-08T11:26:44.884805 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57400216, allocated 56063792, frag ratio 2.3 , heap full: 0
[2025-07-08T11:26:44.884882 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58229456, allocated 57029728, frag ratio 2.1 , heap full: 0
[2025-07-08T11:26:44.884902 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:26:44.884922 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974004883583. The memory usage of node is: 110442 KB.
[2025-07-08T11:26:44.888126 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974004883583
[2025-07-08T11:26:44.888183 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974004883583
[2025-07-08T11:26:54.896692 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57497400, allocated 56172592, frag ratio 2.3 , heap full: 0
[2025-07-08T11:26:54.896771 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58326640, allocated 57129152, frag ratio 2.1 , heap full: 0
[2025-07-08T11:26:54.896787 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:26:54.896806 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974014896649. The memory usage of node is: 110646 KB.
[2025-07-08T11:26:54.897871 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974014896649
[2025-07-08T11:26:54.897899 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974014896649
[2025-07-08T11:27:04.907725 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57497400, allocated 56172128, frag ratio 2.3 , heap full: 0
[2025-07-08T11:27:04.907792 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58326640, allocated 57129152, frag ratio 2.1 , heap full: 0
[2025-07-08T11:27:04.907809 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:27:04.907827 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974024907696. The memory usage of node is: 110645 KB.
[2025-07-08T11:27:04.907895 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974024907696
[2025-07-08T11:27:04.907920 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974024907696
[2025-07-08T11:27:14.914783 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57528024, allocated 56220864, frag ratio 2.3 , heap full: 0
[2025-07-08T11:27:14.914860 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58426896, allocated 57188720, frag ratio 2.1 , heap full: 0
[2025-07-08T11:27:14.914892 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 208, committed 4096, full: 0
[2025-07-08T11:27:14.914916 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974034857390. The memory usage of node is: 110751 KB.
[2025-07-08T11:27:14.920553 I 15596] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 20679 quota: 157286400 flight_tasks: 1 record count: 183
[2025-07-08T11:27:14.922328 I 15597] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 21696 quota: 157286400 flight_tasks: 1 record count: 192
[2025-07-08T11:27:14.926055 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 21696 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:27:14.928567 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 20679 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:27:14.975996 I 15596] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:27:14.976049 I 15596] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:27:14.976240 I 15764] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:27:14.976357 I 15596] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974034857390
[2025-07-08T11:27:14.976415 I 15596] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974034857390
[2025-07-08T11:27:20.820956 I 15762] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:27:24.916610 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57850392, allocated 56612352, frag ratio 2.1 , heap full: 0
[2025-07-08T11:27:24.916671 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58642768, allocated 57423936, frag ratio 2.1 , heap full: 0
[2025-07-08T11:27:24.916687 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 224, committed 4096, full: 0
[2025-07-08T11:27:24.916705 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974044889695. The memory usage of node is: 111363 KB.
[2025-07-08T11:27:24.927245 I 15597] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 144075 quota: 157286400 flight_tasks: 1 record count: 1275
[2025-07-08T11:27:24.929013 I 15596] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 143171 quota: 157286400 flight_tasks: 1 record count: 1267
[2025-07-08T11:27:24.946959 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 144075 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:27:24.951493 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 143171 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:27:24.992791 I 15824] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 5 ,thread: 15824 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:27:24.993157 I 15769] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:27:24.993196 I 15595] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:27:24.993212 I 15595] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:27:24.994939 I 15595] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974044889695
[2025-07-08T11:27:24.994980 I 15595] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974044889695
[2025-07-08T11:27:25.042601 I 15824] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 5 ,thread: 15824 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:27:30.795939 I 15757] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:27:34.919682 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 57795096, allocated 56591696, frag ratio 2.1 , heap full: 0
[2025-07-08T11:27:34.919744 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 58583376, allocated 57422624, frag ratio 2 , heap full: 0
[2025-07-08T11:27:34.919757 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 240, committed 4096, full: 0
[2025-07-08T11:27:34.919776 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974054919529. The memory usage of node is: 111342 KB.
[2025-07-08T11:27:34.921044 I 15596] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 2260 quota: 157286400 flight_tasks: 1 record count: 20
[2025-07-08T11:27:34.921576 I 15597] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 2599 quota: 157286400 flight_tasks: 1 record count: 23
[2025-07-08T11:27:34.921829 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 2260 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:27:34.922237 I 15595] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 2599 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:27:34.952071 I 15760] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:27:34.952400 I 15597] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:27:34.952435 I 15597] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:27:34.952549 I 15597] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974054919529
[2025-07-08T11:27:34.952579 I 15597] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974054919529
[2025-07-08T11:27:39.103829 I 15556] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_2  paras=remove
[2025-07-08T11:27:40.108022 I 15556] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4398046531526
[2025-07-08T11:27:40.121990 I 15556] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4398046531526
[2025-07-08T11:27:40.284050 I 15556] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4398046531526
[2025-07-08T11:27:40.303543 I 15557] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:27:40.303614 I 15557] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:27:40.303736 I 15942] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:27:40.304301 I 15556] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4398046531526
[2025-07-08T11:27:40.306211 I 15556] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:27:40.758911 I 15557] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:27:40.758978 I 15556] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4398046531526, tx_term: 3, tx_ng_id: 1
[2025-07-08T11:27:44.740483 I 15556] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4398046531526
[2025-07-08T11:27:44.862593 I 15556] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4398046531526
[2025-07-08T11:27:44.920086 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 61376280, allocated 59591720, frag ratio 2.9 , heap full: 0
[2025-07-08T11:27:45.066352 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 60809760, allocated 59624208, frag ratio 1.9 , heap full: 0
[2025-07-08T11:27:45.066510 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 256, committed 4096, full: 0
[2025-07-08T11:27:45.066541 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974064920038. The memory usage of node is: 116421 KB.
[2025-07-08T11:27:45.067215 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974064920038
[2025-07-08T11:27:45.067245 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974064920038
[2025-07-08T11:27:45.089551 I 15556] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4398046531526
[2025-07-08T11:27:45.450035 I 15556] [log_agent.cpp:408] Failed to send RPC#CheckClusterScaleStatus, error text:[E1008]Reached timeout=300ms @127.0.0.1:9000
[2025-07-08T11:27:45.937650 I 15567] [sharder.cpp:1276] Updating in memory cluster config to version 1751974062442812
[2025-07-08T11:27:45.937693 I 15567] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:27:45.937707 I 15567] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:27:45.937721 I 15567] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:27:45.937767 I 15567] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:27:45.938409 I 15556] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4398046531526
[2025-07-08T11:27:45.938501 I 15567] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:27:45.938727 I 15557] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:27:45.938763 I 15557] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:27:45.939153 I 15944] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:27:46.028441 I 15556] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4398046531526, tx_term: 3, tx_ng_id: 1
[2025-07-08T11:27:46.771610 I 15557] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x22ede130000)
[2025-07-08T11:27:55.167690 I 15563] [cc_request.h:2722] ccs 0 memory usage report, committed 61265880, allocated 59351360, frag ratio 3.1 , heap full: 0
[2025-07-08T11:27:55.175284 I 15563] [cc_request.h:2722] ccs 1 memory usage report, committed 60979552, allocated 59785408, frag ratio 2 , heap full: 0
[2025-07-08T11:27:55.175329 I 15563] [local_cc_shards.h:474] Table range memory report: allocated 272, committed 4096, full: 0
[2025-07-08T11:27:55.175352 I 15563] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974075167586. The memory usage of node is: 116344 KB.
[2025-07-08T11:27:55.177440 I 15563] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974075167586
[2025-07-08T11:27:55.177488 I 15563] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974075167586

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:28:26.650246 I 16215] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:28:26.651583 I 16215] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:28:26.651893 I 16215] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:28:26.662096 I 16215] [util.h:378] Successfully loaded cluster config from file with version 1751974106486490
[2025-07-08T11:28:26.662122 I 16215] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:28:26.662132 I 16215] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:28:26.662138 I 16215] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:28:26.662146 I 16215] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:28:26.662153 I 16215] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:28:26.662160 I 16215] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:28:26.667189 I 16215] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:28:26.678891 I 16215] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:28:26.678925 I 16215] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:28:26.679306 I 16215] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:28:26.679430 I 16215] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:28:26.679579 I 16215] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:28:26.691776 I 16215] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:28:26.708051 I 16215] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:28:26.708158 I 16215] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:28:26.708467 I 16215] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:28:26.708518 I 16215] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:28:26.708535 I 16215] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:28:26.712453 I 16215] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:28:26.712482 I 16215] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:28:26.713860 I 16215] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:28:26.713887 I 16215] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:28:26.713900 I 16215] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:28:26.716320 I 16215] [sharder.cpp:371] Spawned host manager process with PID: 16242
[2025-07-08T11:28:26.835592 I 16215] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:28:26.836031 I 16215] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:28:26.837617 I 16215] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:28:26.837657 I 16215] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:28:26.840076 I 16240] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:28:26.840557 I 16238] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:28:26.840790 I 16240] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:28:26.841053 I 16240] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:28:26.841290 I 16240] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:28:27.841485 I 16238] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:28:28.988315 I 16228] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:28:28.990618 I 16227] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:28:28.997702 I 16228] [log_replay_service.cpp:274] replay service accepting new stream: 176 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:28:29.116916 I 16227] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:28:29.259215 I 16228] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:28:29.293021 I 16227] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:28:29.293087 I 16227] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:28:29.293180 I 16227] [log_replay_service.cpp:717] replay service stream: 176, is closed, active stream cnt: 0
[2025-07-08T11:28:29.295569 I 16215] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:28:29.295611 W 16215] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:28:29.295631 I 16215] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:28:30.783263 I 16227] [cc_node_service.cpp:1223] CcNodeService Received UploadBatch RPC of #ng1 for table:data_table_0
[2025-07-08T11:28:30.783874 I 16228] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:28:30.783926 I 16227] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:28:30.784026 I 16228] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x23dab7b7380, schema_ts: 100
[2025-07-08T11:28:30.784135 I 16227] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x23dab7b7380, schema_ts: 100
[2025-07-08T11:28:30.785081 I 16227] [cc_node_service.cpp:1267] CcNodeService UploadBatch RPC of #ng1 finished with error: 0
[2025-07-08T11:28:30.895795 I 16228] [cc_node_service.cpp:1223] CcNodeService Received UploadBatch RPC of #ng1 for table:data_table_0
[2025-07-08T11:28:30.947590 I 16227] [cc_node_service.cpp:1267] CcNodeService UploadBatch RPC of #ng1 finished with error: 0
[2025-07-08T11:28:31.799815 I 16228] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:28:31.799863 I 16228] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:28:36.710050 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 67884376, allocated 66880520, frag ratio 1.5 , heap full: 0
[2025-07-08T11:28:36.710137 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 68596512, allocated 67658424, frag ratio 1.4 , heap full: 0
[2025-07-08T11:28:36.710157 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:28:36.710191 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974116708997. The memory usage of node is: 131385 KB.
[2025-07-08T11:28:36.712303 I 16268] [local_cc_shards.cpp:4585] scan_cc: 129081043306112  scan data cnt is 0
[2025-07-08T11:28:36.713305 I 16267] [local_cc_shards.cpp:4585] scan_cc: 129081051698816  scan data cnt is 0
[2025-07-08T11:28:36.715031 I 16267] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974116708997
[2025-07-08T11:28:36.715078 I 16267] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974116708997
[2025-07-08T11:28:46.711504 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 68054200, allocated 66934488, frag ratio 1.6 , heap full: 0
[2025-07-08T11:28:46.711573 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 68718272, allocated 67709720, frag ratio 1.5 , heap full: 0
[2025-07-08T11:28:46.711591 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:28:46.711613 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974126710507. The memory usage of node is: 131488 KB.
[2025-07-08T11:28:46.712752 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974126710507
[2025-07-08T11:28:46.712834 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974126710507
[2025-07-08T11:28:56.719362 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 68006424, allocated 67128976, frag ratio 1.3 , heap full: 0
[2025-07-08T11:28:56.719556 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 68645344, allocated 67917728, frag ratio 1.1 , heap full: 0
[2025-07-08T11:28:56.719599 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:28:56.719619 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974136699837. The memory usage of node is: 131881 KB.
[2025-07-08T11:28:56.727473 I 16268] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 135642 quota: 157286400 flight_tasks: 1 record count: 1222
[2025-07-08T11:28:56.730398 I 16267] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 133533 quota: 157286400 flight_tasks: 1 record count: 1203
[2025-07-08T11:28:56.741796 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 135642 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:28:56.752327 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 133533 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:28:56.792402 I 16266] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:28:56.792450 I 16266] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:28:56.793098 I 16266] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974136699837
[2025-07-08T11:28:56.793138 I 16266] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974136699837
[2025-07-08T11:29:06.731135 I 16228] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:29:06.732182 I 16227] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:29:06.732530 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 60147736, allocated 58160368, frag ratio 3.3 , heap full: 0
[2025-07-08T11:29:06.732569 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 60828704, allocated 58935584, frag ratio 3.1 , heap full: 0
[2025-07-08T11:29:06.732583 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:29:06.732604 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974146721186. The memory usage of node is: 114351 KB.
[2025-07-08T11:29:06.735999 I 16267] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 29637 quota: 157286400 flight_tasks: 1 record count: 267
[2025-07-08T11:29:06.737988 I 16268] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 30414 quota: 157286400 flight_tasks: 1 record count: 274
[2025-07-08T11:29:06.740540 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 29637 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:29:06.746400 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 30414 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:29:06.778144 I 16266] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:29:06.778187 I 16266] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:29:06.779732 I 16266] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974146721186
[2025-07-08T11:29:06.779778 I 16266] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974146721186
[2025-07-08T11:29:08.262928 I 16228] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_3  paras=action=panic
[2025-07-08T11:29:09.274134 I 16228] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:29:09.279196 I 16228] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:29:12.295442 I 16228] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:29:12.295501 I 16228] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:29:12.295519 I 16228] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 1
[2025-07-08T11:29:12.295532 I 16228] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 2 ms
[2025-07-08T11:29:12.295548 I 16228] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-1 new_cookie_on_open: 0-2
[2025-07-08T11:29:12.422878 I 16228] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 127 ms
[2025-07-08T11:29:12.443900 I 16228] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:29:12.443953 E 16228] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:29:12.569675 I 16227] [socket.cpp:2848] Checking Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x23d82910600)
[2025-07-08T11:29:14.992041 I 16228] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#1.
[2025-07-08T11:29:15.026371 I 16228] [cc_req_misc.cpp:430] ccshard: 1; clear ccmaps and catalogs of node group: 1
[2025-07-08T11:29:16.551775 I 16228] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:29:16.551981 I 16228] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:29:16.552000 I 16228] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:29:16.566316 I 16228] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:29:16.566347 I 16228] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:29:16.566370 I 16228] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:29:16.725504 I 16228] [cc_stream_receiver.cpp:1532] RecoverStateCheckRequest, node 1 is not leader of node group 1
[2025-07-08T11:29:16.730273 I 16240] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:29:17.584338 I 16228] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 3
[2025-07-08T11:29:17.603610 I 16228] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:29:17.609905 I 16228] [log_replay_service.cpp:274] replay service accepting new stream: 17179869273 from log group: 0 to cc_ng: 1 at term: 3
[2025-07-08T11:29:17.611745 I 16228] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 3 has been recovered.
[2025-07-08T11:29:17.611778 I 16228] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 3, log group: 0, set recovering status to finished
[2025-07-08T11:29:17.611827 I 16228] [log_replay_service.cpp:717] replay service stream: 17179869273, is closed, active stream cnt: 0
[2025-07-08T11:29:18.572279 I 16227] [socket.cpp:2908] Revived Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x23d82910600) (Connectable)
[2025-07-08T11:29:19.272205 I 16228] [cc_node.cpp:347] CC node 1 becomes the leader of ng#0. Term: 4
[2025-07-08T11:29:19.299925 I 16228] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:1
[2025-07-08T11:29:19.306406 I 16228] [log_replay_service.cpp:274] replay service accepting new stream: 34359738457 from log group: 0 to cc_ng: 0 at term: 4
[2025-07-08T11:29:19.310457 I 16227] [cc_node.cpp:126] The leader of cc node group ng#0 with the term 4 has been recovered.
[2025-07-08T11:29:19.310496 I 16227] [log_replay_service.cpp:616] replay connection: cc node group: 0, term: 4, log group: 0, set recovering status to finished
[2025-07-08T11:29:19.310565 I 16227] [log_replay_service.cpp:717] replay service stream: 34359738457, is closed, active stream cnt: 0
[2025-07-08T11:29:20.268754 I 16228] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#0.
[2025-07-08T11:29:20.293293 I 16227] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:29:20.295764 I 16228] [cc_req_misc.cpp:430] ccshard: 1; clear ccmaps and catalogs of node group: 0
[2025-07-08T11:29:24.865695 I 16358] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:29:24.866230 I 16227] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x23dab7baaa0, schema_ts: 100
[2025-07-08T11:29:24.883585 I 16228] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x23dab7baaa0, schema_ts: 100
[2025-07-08T11:29:26.733517 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 58166648, allocated 55876608, frag ratio 3.9 , heap full: 0
[2025-07-08T11:29:26.733582 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 58776992, allocated 56644408, frag ratio 3.6 , heap full: 0
[2025-07-08T11:29:26.733600 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:29:26.733623 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974166732920. The memory usage of node is: 109883 KB.
[2025-07-08T11:29:26.733686 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974166732920
[2025-07-08T11:29:26.733709 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974166732920
[2025-07-08T11:29:36.743395 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 58178840, allocated 56100768, frag ratio 3.6 , heap full: 0
[2025-07-08T11:29:36.743458 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 58793280, allocated 56867352, frag ratio 3.3 , heap full: 0
[2025-07-08T11:29:36.743476 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:29:36.743494 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974176742736. The memory usage of node is: 110320 KB.
[2025-07-08T11:29:36.748533 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974176742736
[2025-07-08T11:29:36.748582 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974176742736
[2025-07-08T11:29:46.754519 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 58302744, allocated 56405088, frag ratio 3.3 , heap full: 0
[2025-07-08T11:29:46.754585 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 58978528, allocated 57177032, frag ratio 3.1 , heap full: 0
[2025-07-08T11:29:46.754601 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:29:46.754621 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974186753061. The memory usage of node is: 110920 KB.
[2025-07-08T11:29:46.754722 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974186753061
[2025-07-08T11:29:46.754760 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974186753061
[2025-07-08T11:29:56.762530 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 58302744, allocated 56405328, frag ratio 3.3 , heap full: 0
[2025-07-08T11:29:56.762590 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 58978528, allocated 57177608, frag ratio 3.1 , heap full: 0
[2025-07-08T11:29:56.762605 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:29:56.762624 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974196760628. The memory usage of node is: 110920 KB.
[2025-07-08T11:29:56.764935 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974196760628
[2025-07-08T11:29:56.764987 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974196760628
[2025-07-08T11:30:06.708499 I 16363] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:30:06.769446 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 58026072, allocated 56656880, frag ratio 2.4 , heap full: 0
[2025-07-08T11:30:06.769507 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 58701856, allocated 57398888, frag ratio 2.2 , heap full: 0
[2025-07-08T11:30:06.769521 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:30:06.769536 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974206748433. The memory usage of node is: 111382 KB.
[2025-07-08T11:30:06.778374 I 16267] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 118763 quota: 157286400 flight_tasks: 1 record count: 1051
[2025-07-08T11:30:06.778597 I 16268] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 121136 quota: 157286400 flight_tasks: 1 record count: 1072
[2025-07-08T11:30:06.788966 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 118763 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:30:06.793211 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 121136 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:30:06.835662 I 16365] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:30:06.835727 I 16266] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:30:06.835784 I 16266] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:30:06.836227 I 16266] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974206748433
[2025-07-08T11:30:06.836269 I 16266] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974206748433
[2025-07-08T11:30:16.674415 I 16367] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:30:16.674621 I 16385] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 5 ,thread: 16385 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:30:16.728641 I 16385] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 5 ,thread: 16385 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:30:16.769968 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 58035192, allocated 56708928, frag ratio 2.3 , heap full: 0
[2025-07-08T11:30:16.770035 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 58710976, allocated 57470200, frag ratio 2.1 , heap full: 0
[2025-07-08T11:30:16.770049 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:30:16.770069 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974216769728. The memory usage of node is: 111503 KB.
[2025-07-08T11:30:16.772917 I 16267] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 47347 quota: 157286400 flight_tasks: 1 record count: 419
[2025-07-08T11:30:16.773538 I 16268] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 47234 quota: 157286400 flight_tasks: 1 record count: 418
[2025-07-08T11:30:16.776683 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 47234 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:30:16.778239 I 16266] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 47347 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:30:16.807351 I 16358] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:30:16.807476 I 16266] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:30:16.807512 I 16266] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:30:16.808705 I 16266] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974216769728
[2025-07-08T11:30:16.808750 I 16266] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974216769728
[2025-07-08T11:30:20.499053 I 16228] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_3  paras=remove
[2025-07-08T11:30:21.508020 I 16227] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4398046531534
[2025-07-08T11:30:21.536183 I 16227] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4398046531534
[2025-07-08T11:30:21.557169 I 16227] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4398046531534
[2025-07-08T11:30:21.558224 I 16227] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:30:21.558483 I 16228] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:30:21.562340 I 16611] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:30:21.563938 I 16227] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4398046531534
[2025-07-08T11:30:21.567085 I 16227] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:30:21.587121 I 16228] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:30:21.589262 I 16227] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4398046531534, tx_term: 3, tx_ng_id: 1
[2025-07-08T11:30:23.579350 I 16227] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4398046531534
[2025-07-08T11:30:23.584690 I 16227] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4398046531534
[2025-07-08T11:30:23.589820 I 16227] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4398046531534
[2025-07-08T11:30:23.604400 I 16238] [sharder.cpp:1276] Updating in memory cluster config to version 1751974222180685
[2025-07-08T11:30:23.604439 I 16238] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:30:23.604452 I 16238] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:30:23.604465 I 16238] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:30:23.604519 I 16238] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:30:23.659451 I 16227] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4398046531534
[2025-07-08T11:30:23.660887 I 16238] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:30:23.663969 I 16227] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:30:23.664000 I 16227] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:30:23.665110 I 16612] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:30:23.672544 I 16227] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4398046531534, tx_term: 3, tx_ng_id: 1
[2025-07-08T11:30:24.720528 I 16227] [socket.cpp:2848] Checking Socket{id=340 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x23dfa130000)
[2025-07-08T11:30:26.770498 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 61372512, allocated 59165496, frag ratio 3.6 , heap full: 0
[2025-07-08T11:30:26.770561 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 60769840, allocated 59598584, frag ratio 1.9 , heap full: 0
[2025-07-08T11:30:26.770576 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:30:26.770594 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974226770309. The memory usage of node is: 115980 KB.
[2025-07-08T11:30:26.770670 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974226770309
[2025-07-08T11:30:26.770694 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974226770309
[2025-07-08T11:30:36.776651 I 16234] [cc_request.h:2722] ccs 0 memory usage report, committed 61646592, allocated 59523608, frag ratio 3.4 , heap full: 0
[2025-07-08T11:30:36.776716 I 16234] [cc_request.h:2722] ccs 1 memory usage report, committed 61101168, allocated 59930440, frag ratio 1.9 , heap full: 0
[2025-07-08T11:30:36.776731 I 16234] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:30:36.776750 I 16234] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974236776613. The memory usage of node is: 116654 KB.
[2025-07-08T11:30:36.778028 I 16234] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974236776613
[2025-07-08T11:30:36.778084 I 16234] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974236776613

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:31:03.638846 I 16883] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:31:03.640146 I 16883] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:31:03.640486 I 16883] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:31:03.652544 I 16883] [util.h:378] Successfully loaded cluster config from file with version 1751974263533227
[2025-07-08T11:31:03.652586 I 16883] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:31:03.652599 I 16883] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:31:03.652611 I 16883] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:31:03.652621 I 16883] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:31:03.652631 I 16883] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:31:03.652642 I 16883] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:31:03.662972 I 16883] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:31:03.677927 I 16883] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:31:03.677975 I 16883] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:31:03.678470 I 16883] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:31:03.678640 I 16883] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:31:03.678856 I 16883] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:31:03.707722 I 16883] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:31:03.724946 I 16883] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:31:03.725113 I 16883] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:31:03.725471 I 16883] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:31:03.725523 I 16883] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:31:03.725536 I 16883] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:31:03.729866 I 16883] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:31:03.729902 I 16883] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:31:03.731211 I 16883] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:31:03.731236 I 16883] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:31:03.731248 I 16883] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:31:03.734139 I 16883] [sharder.cpp:371] Spawned host manager process with PID: 16910
[2025-07-08T11:31:03.853045 I 16883] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:31:03.853523 I 16883] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:31:03.855016 I 16883] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:31:03.855047 I 16883] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:31:03.861479 I 16906] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:31:03.865988 I 16908] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:31:03.868707 I 16908] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:31:03.875591 I 16908] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:31:03.876920 I 16908] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:31:04.859273 I 16906] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:31:06.656610 I 16896] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:31:06.657831 I 16895] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:31:06.668619 I 16896] [log_replay_service.cpp:274] replay service accepting new stream: 172 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:31:06.933406 I 16932] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:31:07.153437 I 16895] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:31:07.213727 I 16895] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:31:07.213946 I 16895] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:31:07.214174 I 16895] [log_replay_service.cpp:717] replay service stream: 172, is closed, active stream cnt: 0
[2025-07-08T11:31:07.215823 I 16883] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:31:07.215864 W 16883] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:31:07.215883 I 16883] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:31:08.210676 I 16896] [cc_node_service.cpp:1223] CcNodeService Received UploadBatch RPC of #ng1 for table:data_table_0
[2025-07-08T11:31:08.213853 I 16895] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:31:08.213900 I 16896] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:31:08.213975 I 16895] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x338a77b7380, schema_ts: 100
[2025-07-08T11:31:08.213984 I 16896] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x338a77b7380, schema_ts: 100
[2025-07-08T11:31:08.214730 I 16896] [cc_node_service.cpp:1267] CcNodeService UploadBatch RPC of #ng1 finished with error: 0
[2025-07-08T11:31:08.452106 I 16896] [cc_node_service.cpp:1223] CcNodeService Received UploadBatch RPC of #ng1 for table:data_table_0
[2025-07-08T11:31:08.453472 I 16896] [cc_node_service.cpp:1267] CcNodeService UploadBatch RPC of #ng1 finished with error: 0
[2025-07-08T11:31:11.172060 I 16896] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:31:11.172109 I 16896] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:31:13.732945 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 67749168, allocated 66488328, frag ratio 1.9 , heap full: 0
[2025-07-08T11:31:13.733031 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 68192944, allocated 67244984, frag ratio 1.4 , heap full: 0
[2025-07-08T11:31:13.733053 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:31:13.733129 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974273730611. The memory usage of node is: 130598 KB.
[2025-07-08T11:31:13.738757 I 16935] [local_cc_shards.cpp:4585] scan_cc: 129397285009024  scan data cnt is 0
[2025-07-08T11:31:13.739832 I 16936] [local_cc_shards.cpp:4585] scan_cc: 129397276616320  scan data cnt is 0
[2025-07-08T11:31:13.743482 I 16936] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974273730611
[2025-07-08T11:31:13.743538 I 16936] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974273730611
[2025-07-08T11:31:23.743535 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 67900304, allocated 66537312, frag ratio 2 , heap full: 0
[2025-07-08T11:31:23.743603 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 68360208, allocated 67378168, frag ratio 1.4 , heap full: 0
[2025-07-08T11:31:23.743623 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:31:23.743644 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974283738699. The memory usage of node is: 130776 KB.
[2025-07-08T11:31:23.743750 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974283738699
[2025-07-08T11:31:23.743830 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974283738699
[2025-07-08T11:31:33.751519 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 67953552, allocated 66599440, frag ratio 2 , heap full: 0
[2025-07-08T11:31:33.751591 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 68417552, allocated 67438592, frag ratio 1.4 , heap full: 0
[2025-07-08T11:31:33.751608 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:31:33.751629 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974293750661. The memory usage of node is: 130896 KB.
[2025-07-08T11:31:33.755692 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974293750661
[2025-07-08T11:31:33.755762 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974293750661
[2025-07-08T11:31:43.774296 I 16895] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:31:43.774506 I 16896] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:31:43.774580 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59747920, allocated 57848856, frag ratio 3.2 , heap full: 0
[2025-07-08T11:31:43.774633 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60353232, allocated 58580104, frag ratio 2.9 , heap full: 0
[2025-07-08T11:31:43.774648 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:31:43.774672 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974303751541. The memory usage of node is: 113700 KB.
[2025-07-08T11:31:43.781148 I 16936] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 103341 quota: 157286400 flight_tasks: 1 record count: 931
[2025-07-08T11:31:43.784437 I 16935] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 102120 quota: 157286400 flight_tasks: 1 record count: 920
[2025-07-08T11:31:43.795136 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 103341 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:31:43.805737 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 102120 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:31:43.842833 I 16934] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:31:43.842877 I 16934] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:31:43.843180 I 16934] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974303751541
[2025-07-08T11:31:43.843222 I 16934] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974303751541
[2025-07-08T11:31:53.777449 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57918840, frag ratio 3.2 , heap full: 0
[2025-07-08T11:31:53.777516 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60387888, allocated 58670936, frag ratio 2.8 , heap full: 0
[2025-07-08T11:31:53.777535 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:31:53.777554 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974313776757. The memory usage of node is: 113857 KB.
[2025-07-08T11:31:53.784466 I 16936] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 62715 quota: 157286400 flight_tasks: 1 record count: 565
[2025-07-08T11:31:53.787873 I 16935] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 61050 quota: 157286400 flight_tasks: 1 record count: 550
[2025-07-08T11:31:53.801946 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 61050 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:31:53.809947 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 62715 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:31:53.853531 I 16934] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:31:53.853562 I 16934] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:31:53.855517 I 16934] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974313776757
[2025-07-08T11:31:53.855564 I 16934] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974313776757
[2025-07-08T11:32:03.780682 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57927288, frag ratio 3.2 , heap full: 0
[2025-07-08T11:32:03.780751 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60387888, allocated 58678968, frag ratio 2.8 , heap full: 0
[2025-07-08T11:32:03.780767 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:32:03.780786 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974323779893. The memory usage of node is: 113873 KB.
[2025-07-08T11:32:03.780862 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974323779893
[2025-07-08T11:32:03.780885 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974323779893
[2025-07-08T11:32:08.418416 I 16895] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_4  paras=action=panic
[2025-07-08T11:32:09.438556 I 16895] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:32:09.440812 I 16895] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:32:11.455060 I 16895] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:32:11.455121 I 16895] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:32:11.455140 I 16895] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 1
[2025-07-08T11:32:11.455153 I 16895] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 2 ms
[2025-07-08T11:32:11.455170 I 16895] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-1 new_cookie_on_open: 0-2
[2025-07-08T11:32:11.548492 I 16895] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 93 ms
[2025-07-08T11:32:11.558713 I 16895] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:32:11.558768 E 16895] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:32:11.559739 I 16895] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:32:11.559902 I 16895] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:32:11.559926 I 16895] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:32:11.699573 I 16896] [socket.cpp:2848] Checking Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x33880910600)
[2025-07-08T11:32:12.544363 I 16895] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:32:12.544415 I 16895] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:32:12.544445 I 16895] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:32:12.749516 I 16908] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:32:13.787463 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57919128, frag ratio 3.2 , heap full: 0
[2025-07-08T11:32:13.787533 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60387888, allocated 58671000, frag ratio 2.8 , heap full: 0
[2025-07-08T11:32:13.787554 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:32:13.787576 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974333787432. The memory usage of node is: 113857 KB.
[2025-07-08T11:32:13.787660 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974333787432
[2025-07-08T11:32:13.787690 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974333787432
[2025-07-08T11:32:14.701017 I 16896] [socket.cpp:2908] Revived Socket{id=2 remote addr=127.0.0.1:17486 local addr=0.0.0.0:0} (0x33880910600) (Connectable)
[2025-07-08T11:32:17.685664 I 16896] [cc_node.cpp:347] CC node 1 becomes the leader of ng#0. Term: 4
[2025-07-08T11:32:17.707623 I 16896] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:1
[2025-07-08T11:32:17.714850 I 16896] [log_replay_service.cpp:274] replay service accepting new stream: 17179869283 from log group: 0 to cc_ng: 0 at term: 4
[2025-07-08T11:32:17.715900 I 16895] [cc_node.cpp:126] The leader of cc node group ng#0 with the term 4 has been recovered.
[2025-07-08T11:32:17.715942 I 16895] [log_replay_service.cpp:616] replay connection: cc node group: 0, term: 4, log group: 0, set recovering status to finished
[2025-07-08T11:32:17.716004 I 16895] [log_replay_service.cpp:717] replay service stream: 17179869283, is closed, active stream cnt: 0
[2025-07-08T11:32:18.687886 I 16896] [cc_node.cpp:467] CC node 1 steps down as the leader of ng#0.
[2025-07-08T11:32:18.705523 I 16895] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:32:18.725425 I 16933] [cc_req_misc.cpp:430] ccshard: 1; clear ccmaps and catalogs of node group: 0
[2025-07-08T11:32:23.792608 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57919160, frag ratio 3.2 , heap full: 0
[2025-07-08T11:32:23.792676 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60387888, allocated 58670728, frag ratio 2.8 , heap full: 0
[2025-07-08T11:32:23.792697 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:32:23.792718 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974343791761. The memory usage of node is: 113857 KB.
[2025-07-08T11:32:23.792785 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974343791761
[2025-07-08T11:32:23.792812 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974343791761
[2025-07-08T11:32:33.796797 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57919192, frag ratio 3.2 , heap full: 0
[2025-07-08T11:32:33.796861 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60391472, allocated 58672808, frag ratio 2.8 , heap full: 0
[2025-07-08T11:32:33.796878 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:32:33.796900 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974353796564. The memory usage of node is: 113859 KB.
[2025-07-08T11:32:33.796988 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974353796564
[2025-07-08T11:32:33.797009 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974353796564
[2025-07-08T11:32:43.807009 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57919192, frag ratio 3.2 , heap full: 0
[2025-07-08T11:32:43.807077 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60391472, allocated 58688872, frag ratio 2.8 , heap full: 0
[2025-07-08T11:32:43.807094 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:32:43.807114 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974363806691. The memory usage of node is: 113875 KB.
[2025-07-08T11:32:43.808511 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974363806691
[2025-07-08T11:32:43.808557 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974363806691
[2025-07-08T11:32:53.814862 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57919800, frag ratio 3.2 , heap full: 0
[2025-07-08T11:32:53.816002 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60391472, allocated 58672072, frag ratio 2.8 , heap full: 0
[2025-07-08T11:32:53.816035 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:32:53.816056 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974373813990. The memory usage of node is: 113859 KB.
[2025-07-08T11:32:53.816200 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974373813990
[2025-07-08T11:32:53.816231 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974373813990
[2025-07-08T11:33:03.824102 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59854256, allocated 57920088, frag ratio 3.2 , heap full: 0
[2025-07-08T11:33:03.824826 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60391472, allocated 58671688, frag ratio 2.8 , heap full: 0
[2025-07-08T11:33:03.824882 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:33:03.824905 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974383821760. The memory usage of node is: 113859 KB.
[2025-07-08T11:33:03.827441 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974383821760
[2025-07-08T11:33:03.827494 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974383821760
[2025-07-08T11:33:12.715016 I 17032] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:33:13.833149 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59410768, allocated 58082424, frag ratio 2.2 , heap full: 0
[2025-07-08T11:33:13.837304 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 59954128, allocated 58786504, frag ratio 1.9 , heap full: 0
[2025-07-08T11:33:13.837343 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:33:13.837366 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974393815883. The memory usage of node is: 114129 KB.
[2025-07-08T11:33:13.840058 I 16935] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 52658 quota: 157286400 flight_tasks: 1 record count: 466
[2025-07-08T11:33:13.843776 I 16936] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 54127 quota: 157286400 flight_tasks: 1 record count: 479
[2025-07-08T11:33:13.846315 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 52658 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:33:13.849972 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 54127 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:33:13.894479 I 17037] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:33:13.894539 I 16934] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:33:13.894556 I 16934] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:33:13.897771 I 16934] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974393815883
[2025-07-08T11:33:13.897825 I 16934] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974393815883
[2025-07-08T11:33:22.717881 I 17039] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:33:22.720628 I 17055] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 5 ,thread: 17055 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:33:22.774163 I 17055] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 5 ,thread: 17055 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:33:23.838801 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59610704, allocated 58269464, frag ratio 2.2 , heap full: 0
[2025-07-08T11:33:23.838865 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60147920, allocated 58967528, frag ratio 2 , heap full: 0
[2025-07-08T11:33:23.838881 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 208, committed 4096, full: 0
[2025-07-08T11:33:23.838900 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974403838501. The memory usage of node is: 114489 KB.
[2025-07-08T11:33:23.847497 I 16935] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 113452 quota: 157286400 flight_tasks: 1 record count: 1004
[2025-07-08T11:33:23.850060 I 16936] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 114243 quota: 157286400 flight_tasks: 1 record count: 1011
[2025-07-08T11:33:23.857445 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 114243 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:33:23.861177 I 16934] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 113452 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:33:23.896106 I 17040] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:33:23.896157 I 16934] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:33:23.896173 I 16934] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:33:23.897159 I 16934] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974403838501
[2025-07-08T11:33:23.898355 I 16934] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974403838501
[2025-07-08T11:33:33.843592 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59610704, allocated 58277624, frag ratio 2.2 , heap full: 0
[2025-07-08T11:33:33.843662 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60147920, allocated 58975784, frag ratio 1.9 , heap full: 0
[2025-07-08T11:33:33.843683 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 224, committed 4096, full: 0
[2025-07-08T11:33:33.843712 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974413839891. The memory usage of node is: 114505 KB.
[2025-07-08T11:33:33.845737 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974413839891
[2025-07-08T11:33:33.847361 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974413839891
[2025-07-08T11:33:43.856552 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59610704, allocated 58269624, frag ratio 2.2 , heap full: 0
[2025-07-08T11:33:43.856616 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 60147920, allocated 58967624, frag ratio 2 , heap full: 0
[2025-07-08T11:33:43.856633 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 240, committed 4096, full: 0
[2025-07-08T11:33:43.856652 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974423855562. The memory usage of node is: 114489 KB.
[2025-07-08T11:33:43.859431 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974423855562
[2025-07-08T11:33:43.859488 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974423855562
[2025-07-08T11:33:50.475854 I 16896] [data_store_fault_inject.h:200] FaultInject name=panic_before_ds_migration_4  paras=remove
[2025-07-08T11:33:51.488529 I 16895] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4402341498791
[2025-07-08T11:33:51.546293 I 16895] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4402341498791
[2025-07-08T11:33:51.588267 I 16895] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4402341498791
[2025-07-08T11:33:51.590168 I 16896] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:33:51.592439 I 16895] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:33:51.594071 I 17228] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:33:51.594609 I 16895] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4402341498791
[2025-07-08T11:33:51.596524 I 16895] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:33:51.619489 I 16896] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:33:51.619577 I 16895] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4402341498791, tx_term: 2, tx_ng_id: 1
[2025-07-08T11:33:53.581609 I 16895] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4402341498791
[2025-07-08T11:33:53.584095 I 16895] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4402341498791
[2025-07-08T11:33:53.588066 I 16895] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4402341498791
[2025-07-08T11:33:53.602003 I 16906] [sharder.cpp:1276] Updating in memory cluster config to version 1751974431468881
[2025-07-08T11:33:53.602042 I 16906] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:33:53.602056 I 16906] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:33:53.602066 I 16906] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:33:53.602120 I 16906] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:33:53.648157 I 16895] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4402341498791
[2025-07-08T11:33:53.648795 I 16895] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:33:53.648818 I 16895] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:33:53.649106 I 17229] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:33:53.649844 I 16906] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:33:53.655318 I 16895] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4402341498791, tx_term: 2, tx_ng_id: 1
[2025-07-08T11:33:53.866842 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59799768, allocated 58392560, frag ratio 2.4 , heap full: 0
[2025-07-08T11:33:53.866910 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 62559776, allocated 60407152, frag ratio 3.4 , heap full: 0
[2025-07-08T11:33:53.866930 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 256, committed 4096, full: 0
[2025-07-08T11:33:53.866951 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974433866812. The memory usage of node is: 116015 KB.
[2025-07-08T11:33:53.867033 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974433866812
[2025-07-08T11:33:53.867061 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974433866812
[2025-07-08T11:33:54.766332 I 16896] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x338f8130000)
[2025-07-08T11:34:03.872457 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 59946008, allocated 58569200, frag ratio 2.3 , heap full: 0
[2025-07-08T11:34:03.872527 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 62712352, allocated 60595648, frag ratio 3.4 , heap full: 0
[2025-07-08T11:34:03.872543 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 272, committed 4096, full: 0
[2025-07-08T11:34:03.872565 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974443871656. The memory usage of node is: 116371 KB.
[2025-07-08T11:34:03.873546 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974443871656
[2025-07-08T11:34:03.873593 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974443871656
[2025-07-08T11:34:13.887753 I 16902] [cc_request.h:2722] ccs 0 memory usage report, committed 60226232, allocated 58854928, frag ratio 2.3 , heap full: 0
[2025-07-08T11:34:13.887813 I 16902] [cc_request.h:2722] ccs 1 memory usage report, committed 62685344, allocated 60859952, frag ratio 2.9 , heap full: 0
[2025-07-08T11:34:13.887828 I 16902] [local_cc_shards.h:474] Table range memory report: allocated 288, committed 4096, full: 0
[2025-07-08T11:34:13.887847 I 16902] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974453885360. The memory usage of node is: 116909 KB.
[2025-07-08T11:34:13.890205 I 16902] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974453885360
[2025-07-08T11:34:13.890254 I 16902] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974453885360

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:34:40.170397 I 17500] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:34:40.171754 I 17500] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:34:40.172086 I 17500] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:34:40.187623 I 17500] [util.h:378] Successfully loaded cluster config from file with version 1751974479945427
[2025-07-08T11:34:40.187665 I 17500] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:34:40.187678 I 17500] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:34:40.187690 I 17500] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:34:40.187700 I 17500] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:34:40.187709 I 17500] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:34:40.187721 I 17500] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:34:40.196410 I 17500] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:34:40.211251 I 17500] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:34:40.211293 I 17500] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:34:40.211799 I 17500] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:34:40.211949 I 17500] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:34:40.212144 I 17500] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:34:40.244557 I 17500] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:34:40.271847 I 17500] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:34:40.271996 I 17500] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:34:40.272361 I 17500] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:34:40.272434 I 17500] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:34:40.272449 I 17500] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:34:40.282455 I 17500] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:34:40.282496 I 17500] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:34:40.287808 I 17500] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:34:40.287846 I 17500] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:34:40.287861 I 17500] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:34:40.288141 I 17500] [sharder.cpp:371] Spawned host manager process with PID: 17527
[2025-07-08T11:34:40.422132 I 17500] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:34:40.422683 I 17500] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:34:40.429425 I 17500] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:34:40.429461 I 17500] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:34:40.436255 I 17525] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:34:40.440402 I 17523] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:34:40.440443 I 17525] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:34:40.441867 I 17525] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:34:40.445464 I 17525] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:34:41.434129 I 17523] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:34:42.460057 I 17512] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:34:42.460762 I 17513] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:34:42.468542 I 17512] [log_replay_service.cpp:274] replay service accepting new stream: 258 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:34:42.681444 I 17513] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:34:42.845031 I 17512] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:34:42.880218 I 17513] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:34:42.880275 I 17513] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:34:42.880349 I 17513] [log_replay_service.cpp:717] replay service stream: 258, is closed, active stream cnt: 0
[2025-07-08T11:34:42.883147 I 17500] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:34:42.883186 W 17500] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:34:42.883204 I 17500] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:34:47.693401 I 17513] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:34:47.693446 I 17513] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:34:48.547924 I 17512] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:34:48.549412 I 17513] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x5b2b57b74d0, schema_ts: 100
[2025-07-08T11:34:48.575942 I 17512] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x5b2b57b74d0, schema_ts: 100
[2025-07-08T11:34:50.272220 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 68010920, allocated 66673792, frag ratio 2 , heap full: 0
[2025-07-08T11:34:50.273566 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 68289760, allocated 67336512, frag ratio 1.4 , heap full: 0
[2025-07-08T11:34:50.273602 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:34:50.273631 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974490272187. The memory usage of node is: 130869 KB.
[2025-07-08T11:34:50.282415 I 17553] [local_cc_shards.cpp:4585] scan_cc: 129622288901760  scan data cnt is 0
[2025-07-08T11:34:50.283833 I 17552] [local_cc_shards.cpp:4585] scan_cc: 129622297294464  scan data cnt is 0
[2025-07-08T11:34:50.284637 I 17552] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974490272187
[2025-07-08T11:34:50.284684 I 17552] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974490272187
[2025-07-08T11:35:00.280210 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 68201224, allocated 66734392, frag ratio 2.2 , heap full: 0
[2025-07-08T11:35:00.280273 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 68475872, allocated 67462096, frag ratio 1.5 , heap full: 0
[2025-07-08T11:35:00.280288 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:35:00.280308 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974500279160. The memory usage of node is: 131051 KB.
[2025-07-08T11:35:00.283654 I 17519] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974500279160
[2025-07-08T11:35:00.283716 I 17519] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974500279160
[2025-07-08T11:35:10.288519 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 68259080, allocated 66817896, frag ratio 2.1 , heap full: 0
[2025-07-08T11:35:10.288595 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 68534144, allocated 67534424, frag ratio 1.5 , heap full: 0
[2025-07-08T11:35:10.288615 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:35:10.288632 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974510288273. The memory usage of node is: 131203 KB.
[2025-07-08T11:35:10.288950 I 17519] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974510288273
[2025-07-08T11:35:10.288987 I 17519] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974510288273
[2025-07-08T11:35:20.320466 I 17512] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:35:20.322921 I 17513] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:35:20.328536 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 60103528, allocated 57969808, frag ratio 3.6 , heap full: 0
[2025-07-08T11:35:20.328652 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 60386768, allocated 58633264, frag ratio 2.9 , heap full: 0
[2025-07-08T11:35:20.328769 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:35:20.328840 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974520295672. The memory usage of node is: 113870 KB.
[2025-07-08T11:35:20.337373 I 17552] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 57498 quota: 157286400 flight_tasks: 1 record count: 518
[2025-07-08T11:35:20.337844 I 17553] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 59607 quota: 157286400 flight_tasks: 1 record count: 537
[2025-07-08T11:35:20.346843 I 17551] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 57498 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:35:20.361531 I 17551] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 59607 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:35:20.419096 I 17551] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:35:20.421348 I 17551] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:35:20.421698 I 17551] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974520295672
[2025-07-08T11:35:20.421736 I 17551] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974520295672
[2025-07-08T11:35:30.335641 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 60258920, allocated 58116880, frag ratio 3.6 , heap full: 0
[2025-07-08T11:35:30.343907 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 60541744, allocated 58766064, frag ratio 2.9 , heap full: 0
[2025-07-08T11:35:30.343972 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:35:30.344002 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974530238087. The memory usage of node is: 114143 KB.
[2025-07-08T11:35:30.347918 I 17552] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 84360 quota: 157286400 flight_tasks: 1 record count: 760
[2025-07-08T11:35:30.349472 I 17553] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 84138 quota: 157286400 flight_tasks: 1 record count: 758
[2025-07-08T11:35:30.358552 I 17551] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 84360 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:35:30.378814 I 17551] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 84138 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:35:30.442587 I 17551] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:35:30.442637 I 17551] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:35:30.443048 I 17551] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974530238087
[2025-07-08T11:35:30.443096 I 17551] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974530238087
[2025-07-08T11:35:40.353494 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 60286568, allocated 58137520, frag ratio 3.6 , heap full: 0
[2025-07-08T11:35:40.353565 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 60579632, allocated 58764512, frag ratio 3 , heap full: 0
[2025-07-08T11:35:40.353581 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:35:40.353603 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974540344854. The memory usage of node is: 114162 KB.
[2025-07-08T11:35:40.356278 I 17553] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 22311 quota: 157286400 flight_tasks: 1 record count: 201
[2025-07-08T11:35:40.359678 I 17552] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 21312 quota: 157286400 flight_tasks: 1 record count: 192
[2025-07-08T11:35:40.362646 I 17551] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 22311 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:35:40.366554 I 17551] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 21312 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:35:40.409467 I 17551] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:35:40.409514 I 17551] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:35:40.410836 I 17551] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974540344854
[2025-07-08T11:35:40.410877 I 17551] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974540344854
[2025-07-08T11:35:50.356287 I 17519] [cc_request.h:2722] ccs 0 memory usage report, committed 60286568, allocated 58137840, frag ratio 3.6 , heap full: 0
[2025-07-08T11:35:50.396431 I 17519] [cc_request.h:2722] ccs 1 memory usage report, committed 60579632, allocated 58766000, frag ratio 3 , heap full: 0
[2025-07-08T11:35:50.396486 I 17519] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:35:50.396512 I 17519] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974550354996. The memory usage of node is: 114163 KB.
[2025-07-08T11:35:50.397462 I 17519] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974550354996
[2025-07-08T11:35:50.397509 I 17519] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974550354996
[2025-07-08T11:35:52.274003 I 17512] [data_store_fault_inject.h:200] FaultInject name=panic_after_update_ds_config  paras=action=panic
[2025-07-08T11:35:53.332978 I 17512] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:35:53.348227 I 17512] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:35:55.366017 I 17512] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:35:55.384204 I 17512] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:35:55.384248 I 17512] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 1
[2025-07-08T11:35:55.384263 I 17512] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 20 ms
[2025-07-08T11:35:55.384281 I 17512] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-1 new_cookie_on_open: 0-2
[2025-07-08T11:35:55.629345 I 17512] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 244 ms
[2025-07-08T11:35:55.642231 I 17512] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:35:55.642287 E 17512] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:35:55.645435 I 17512] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:35:55.645613 I 17512] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:35:55.645648 I 17512] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:35:56.455152 I 17690] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:35:56.456530 I 17690] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:35:56.456899 I 17690] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:35:56.480408 I 17690] [util.h:378] Successfully loaded cluster config from file with version 1751974479945427
[2025-07-08T11:35:56.505560 I 17690] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:35:56.505605 I 17690] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:35:56.505618 I 17690] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:35:56.505630 I 17690] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:35:56.505641 I 17690] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:35:56.505653 I 17690] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:35:56.505820 I 17690] [data_store_service_config.cpp:71] Shard count: 1
[2025-07-08T11:35:56.505851 I 17690] [data_store_service_config.cpp:119] Shard 0 node 127.0.0.1:17586
[2025-07-08T11:35:56.527973 I 17690] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:35:58.552791 I 17690] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:35:58.552853 I 17690] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:35:58.552870 I 17690] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-2
[2025-07-08T11:35:58.552884 I 17690] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 2
[2025-07-08T11:35:58.552897 I 17690] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 3 ms
[2025-07-08T11:35:58.552915 I 17690] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-2 new_cookie_on_open: 0-3
[2025-07-08T11:35:58.795043 I 17690] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 242 ms
[2025-07-08T11:35:58.836846 I 17690] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:35:58.846156 I 17690] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:35:58.846205 I 17690] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:35:58.848767 I 17690] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:35:58.849431 I 17690] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:35:58.856197 I 17690] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:35:58.893584 I 17690] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:35:58.893756 I 17690] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:35:58.894153 I 17690] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:35:58.894222 I 17690] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:35:58.894241 I 17690] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:35:58.906173 I 17690] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:35:58.950070 I 17690] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:35:58.951606 I 17690] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:35:58.956938 I 17690] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:35:58.956971 I 17690] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:35:58.961437 I 17690] [sharder.cpp:371] Spawned host manager process with PID: 17768
[2025-07-08T11:35:59.091854 I 17690] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:35:59.092401 I 17690] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:35:59.093897 I 17690] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:35:59.093927 I 17690] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:35:59.111253 I 17766] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:35:59.123495 I 17766] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:35:59.123906 I 17766] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:35:59.131417 I 17766] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:35:59.133526 I 17754] [cc_stream_receiver.cpp:1558] RecoverStateCheckResponse with error, node_group: 0, error_code:-1
[2025-07-08T11:36:00.102450 I 17754] [cc_stream_receiver.cpp:1558] RecoverStateCheckResponse with error, node_group: 0, error_code:-1
[2025-07-08T11:36:01.078913 I 17754] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:36:01.107736 I 17754] [cc_stream_receiver.cpp:1558] RecoverStateCheckResponse with error, node_group: 0, error_code:-1
[2025-07-08T11:36:01.108317 I 17764] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:36:01.108814 I 17764] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:36:01.806041 I 17754] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:36:01.806313 I 17754] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:36:01.806351 I 17754] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:36:01.830648 I 17754] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:36:01.830682 I 17754] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:36:01.830717 I 17754] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:36:01.855089 I 17753] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:0
[2025-07-08T11:36:02.102599 I 17764] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:0
[2025-07-08T11:36:02.103299 I 17764] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:36:02.103811 I 17764] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:0
[2025-07-08T11:36:02.104257 I 17764] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:36:02.104408 I 17690] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:36:02.104445 W 17690] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:36:02.104466 I 17690] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:36:02.828567 I 17754] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 5
[2025-07-08T11:36:02.850108 I 17754] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:36:02.859869 I 17754] [log_replay_service.cpp:274] replay service accepting new stream: 261 from log group: 0 to cc_ng: 1 at term: 5
[2025-07-08T11:36:02.862035 I 17754] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 5 has been recovered.
[2025-07-08T11:36:02.862071 I 17754] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 5, log group: 0, set recovering status to finished
[2025-07-08T11:36:02.862143 I 17754] [log_replay_service.cpp:717] replay service stream: 261, is closed, active stream cnt: 0
[2025-07-08T11:36:07.431872 I 17703] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:36:07.432206 I 17753] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x2e77d7b7a10, schema_ts: 100
[2025-07-08T11:36:07.452617 I 17754] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x2e77d7b7a10, schema_ts: 100
[2025-07-08T11:36:08.894662 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 57015040, allocated 56671608, frag ratio 0.6 , heap full: 0
[2025-07-08T11:36:08.894730 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 56974848, allocated 56667064, frag ratio 0.54 , heap full: 0
[2025-07-08T11:36:08.894745 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:36:08.894785 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974568893974. The memory usage of node is: 110682 KB.
[2025-07-08T11:36:08.894927 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974568893974
[2025-07-08T11:36:08.894968 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974568893974
[2025-07-08T11:36:18.900008 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 57162400, allocated 56832648, frag ratio 0.58 , heap full: 0
[2025-07-08T11:36:18.900079 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 57166688, allocated 56820648, frag ratio 0.61 , heap full: 0
[2025-07-08T11:36:18.900096 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:36:18.900120 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974578899202. The memory usage of node is: 110989 KB.
[2025-07-08T11:36:18.907434 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974578899202
[2025-07-08T11:36:18.907495 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974578899202
[2025-07-08T11:36:28.920651 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 57329056, allocated 56992424, frag ratio 0.59 , heap full: 0
[2025-07-08T11:36:28.920715 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 57325216, allocated 56980392, frag ratio 0.6 , heap full: 0
[2025-07-08T11:36:28.920732 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:36:28.920753 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974588918418. The memory usage of node is: 111301 KB.
[2025-07-08T11:36:28.926239 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974588918418
[2025-07-08T11:36:28.926301 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974588918418
[2025-07-08T11:36:38.932907 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 57496736, allocated 57169112, frag ratio 0.57 , heap full: 0
[2025-07-08T11:36:38.932981 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 57503136, allocated 57161896, frag ratio 0.59 , heap full: 0
[2025-07-08T11:36:38.932997 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:36:38.933017 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974598931557. The memory usage of node is: 111651 KB.
[2025-07-08T11:36:38.934051 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974598931557
[2025-07-08T11:36:38.934901 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974598931557
[2025-07-08T11:36:48.943074 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 57708192, allocated 57267448, frag ratio 0.76 , heap full: 0
[2025-07-08T11:36:48.943173 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 57758624, allocated 57320120, frag ratio 0.76 , heap full: 0
[2025-07-08T11:36:48.943190 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:36:48.943210 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974608939663. The memory usage of node is: 111901 KB.
[2025-07-08T11:36:48.944293 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974608939663
[2025-07-08T11:36:48.944334 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974608939663
[2025-07-08T11:36:58.949867 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 57708192, allocated 57308072, frag ratio 0.69 , heap full: 0
[2025-07-08T11:36:58.949934 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 57758624, allocated 57320792, frag ratio 0.76 , heap full: 0
[2025-07-08T11:36:58.949949 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:36:58.949968 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974618949345. The memory usage of node is: 111942 KB.
[2025-07-08T11:36:58.950635 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974618949345
[2025-07-08T11:36:58.950675 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974618949345
[2025-07-08T11:37:08.968408 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58028992, allocated 57457632, frag ratio 0.98 , heap full: 0
[2025-07-08T11:37:08.968480 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 58085824, allocated 57490240, frag ratio 1 , heap full: 0
[2025-07-08T11:37:08.968498 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:37:08.968519 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974628881514. The memory usage of node is: 112253 KB.
[2025-07-08T11:37:08.980109 I 17794] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 33109 quota: 157286400 flight_tasks: 1 record count: 293
[2025-07-08T11:37:08.984505 I 17793] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 32318 quota: 157286400 flight_tasks: 1 record count: 286
[2025-07-08T11:37:08.984963 I 17792] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 33109 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:37:08.995587 I 17792] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 32318 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:37:09.033633 I 17705] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:37:09.033715 I 17792] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:37:09.033752 I 17792] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:37:09.036653 I 17792] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974628881514
[2025-07-08T11:37:09.036710 I 17792] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974628881514
[2025-07-08T11:37:13.180483 I 17714] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:37:18.977125 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58214848, allocated 57650864, frag ratio 0.97 , heap full: 0
[2025-07-08T11:37:18.977602 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 58308288, allocated 57653264, frag ratio 1.1 , heap full: 0
[2025-07-08T11:37:18.977824 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:37:18.977864 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974638922738. The memory usage of node is: 112601 KB.
[2025-07-08T11:37:18.986002 I 17793] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 114130 quota: 157286400 flight_tasks: 1 record count: 1010
[2025-07-08T11:37:18.994695 I 17794] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 116164 quota: 157286400 flight_tasks: 1 record count: 1028
[2025-07-08T11:37:19.000566 I 17792] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 114130 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:37:19.014355 I 17792] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 116164 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:37:19.055191 I 17715] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:37:19.055244 I 17792] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:37:19.055261 I 17792] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:37:19.055622 I 17792] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974638922738
[2025-07-08T11:37:19.055667 I 17792] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974638922738
[2025-07-08T11:37:23.250023 I 17730] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 7 ,thread: 17730 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:37:23.250175 I 17713] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:37:23.316633 I 17730] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 7 ,thread: 17730 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:37:28.979440 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58258880, allocated 57656736, frag ratio 1 , heap full: 0
[2025-07-08T11:37:28.979507 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 58305216, allocated 57679952, frag ratio 1.1 , heap full: 0
[2025-07-08T11:37:28.979521 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:37:28.979540 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974648979207. The memory usage of node is: 112633 KB.
[2025-07-08T11:37:28.986750 I 17793] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 19662 quota: 157286400 flight_tasks: 1 record count: 174
[2025-07-08T11:37:28.986812 I 17794] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 19097 quota: 157286400 flight_tasks: 1 record count: 169
[2025-07-08T11:37:29.007047 I 17792] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 19097 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:37:29.016420 I 17792] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 19662 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:37:29.046599 I 17704] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:37:29.046653 I 17792] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:37:29.046669 I 17792] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:37:29.048681 I 17792] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974648979207
[2025-07-08T11:37:29.050611 I 17792] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974648979207
[2025-07-08T11:37:38.988420 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58258880, allocated 57656640, frag ratio 1 , heap full: 0
[2025-07-08T11:37:38.988488 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 58305216, allocated 57688176, frag ratio 1.1 , heap full: 0
[2025-07-08T11:37:38.988504 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:37:38.988524 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974658986146. The memory usage of node is: 112641 KB.
[2025-07-08T11:37:38.990594 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974658986146
[2025-07-08T11:37:38.990645 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974658986146
[2025-07-08T11:37:49.000252 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58258880, allocated 57664448, frag ratio 1 , heap full: 0
[2025-07-08T11:37:49.000319 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 58305216, allocated 57680080, frag ratio 1.1 , heap full: 0
[2025-07-08T11:37:49.000334 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:37:49.000353 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974668997646. The memory usage of node is: 112641 KB.
[2025-07-08T11:37:49.000566 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974668997646
[2025-07-08T11:37:49.000609 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974668997646
[2025-07-08T11:37:51.641114 I 17754] [data_store_fault_inject.h:200] FaultInject name=panic_after_update_ds_config  paras=remove
[2025-07-08T11:37:52.648805 I 17754] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4402341501742
[2025-07-08T11:37:52.694775 I 17754] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4402341501742
[2025-07-08T11:37:52.721513 I 17754] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4402341501742
[2025-07-08T11:37:52.726565 I 17753] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:37:52.730423 I 17754] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:37:52.734614 I 17896] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:37:52.737480 I 17754] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4402341501742
[2025-07-08T11:37:52.739509 I 17754] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:37:52.769483 I 17753] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:37:52.770418 I 17754] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4402341501742, tx_term: 5, tx_ng_id: 1
[2025-07-08T11:37:54.734633 I 17754] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4402341501742
[2025-07-08T11:37:54.736996 I 17754] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4402341501742
[2025-07-08T11:37:54.742718 I 17754] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4402341501742
[2025-07-08T11:37:54.755550 I 17764] [sharder.cpp:1276] Updating in memory cluster config to version 1751974673404835
[2025-07-08T11:37:54.755590 I 17764] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:37:54.755605 I 17764] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:37:54.755615 I 17764] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:37:54.755668 I 17764] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:37:54.830895 I 17754] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4402341501742
[2025-07-08T11:37:54.831239 I 17754] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:37:54.831262 I 17754] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:37:54.835064 I 17897] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:37:54.835069 I 17764] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:37:54.839336 I 17754] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4402341501742, tx_term: 5, tx_ng_id: 1
[2025-07-08T11:37:55.902441 I 17753] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x2e78e130000)
[2025-07-08T11:37:59.004666 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58589744, allocated 57848536, frag ratio 1.3 , heap full: 0
[2025-07-08T11:37:59.004741 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 61084576, allocated 59695848, frag ratio 2.3 , heap full: 0
[2025-07-08T11:37:59.004761 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:37:59.004781 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974679004595. The memory usage of node is: 114789 KB.
[2025-07-08T11:37:59.005194 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974679004595
[2025-07-08T11:37:59.005242 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974679004595
[2025-07-08T11:38:09.011746 I 17760] [cc_request.h:2722] ccs 0 memory usage report, committed 58714384, allocated 58111272, frag ratio 1 , heap full: 0
[2025-07-08T11:38:09.011816 I 17760] [cc_request.h:2722] ccs 1 memory usage report, committed 61277152, allocated 59953080, frag ratio 2.2 , heap full: 0
[2025-07-08T11:38:09.011831 I 17760] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:38:09.011849 I 17760] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974689011565. The memory usage of node is: 115297 KB.
[2025-07-08T11:38:09.013412 I 17760] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974689011565
[2025-07-08T11:38:09.013458 I 17760] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974689011565

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:38:41.381651 I 18168] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:38:41.383020 I 18168] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:38:41.384339 I 18168] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:38:41.412963 I 18168] [util.h:378] Successfully loaded cluster config from file with version 1751974721087913
[2025-07-08T11:38:41.413025 I 18168] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:38:41.413041 I 18168] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:38:41.413055 I 18168] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:38:41.413069 I 18168] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:38:41.413081 I 18168] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:38:41.413094 I 18168] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:38:41.426362 I 18168] [data_store_service.cpp:1686] FetchDSSClusterConfig, DSSNode: 127.0.0.1:17486
[2025-07-08T11:38:41.441627 I 18168] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:38:41.441684 I 18168] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:38:41.442239 I 18168] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:38:41.442437 I 18168] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:38:41.442667 I 18168] [data_store_service_config.cpp:598] DataStoreService channel updated to  shard_id: 0 node: 127.0.0.1:17486
[2025-07-08T11:38:41.479648 I 18168] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:38:41.508275 I 18168] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:38:41.508440 I 18168] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:38:41.508841 I 18168] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:38:41.508903 I 18168] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:38:41.508921 I 18168] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:38:41.514624 I 18168] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:38:41.515259 I 18168] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:38:41.516712 I 18168] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:38:41.516745 I 18168] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:38:41.516759 I 18168] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:38:41.518788 I 18168] [sharder.cpp:371] Spawned host manager process with PID: 18195
[2025-07-08T11:38:41.639323 I 18168] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:38:41.639860 I 18168] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:38:41.641435 I 18168] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:38:41.642411 I 18168] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:38:41.648650 I 18193] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:38:41.651930 I 18191] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:38:41.651993 I 18193] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:38:41.656641 I 18193] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:38:41.660100 I 18193] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:38:42.648234 I 18191] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:38:43.655543 I 18180] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 2
[2025-07-08T11:38:43.657325 I 18181] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:38:43.671561 I 18181] [log_replay_service.cpp:274] replay service accepting new stream: 8589934684 from log group: 0 to cc_ng: 1 at term: 2
[2025-07-08T11:38:43.863672 I 18180] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:38:44.033800 I 18181] [cc_shard.cpp:587] the size of lock array increased to: 16384
[2025-07-08T11:38:44.074631 I 18180] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 2 has been recovered.
[2025-07-08T11:38:44.074690 I 18180] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 2, log group: 0, set recovering status to finished
[2025-07-08T11:38:44.074781 I 18180] [log_replay_service.cpp:717] replay service stream: 8589934684, is closed, active stream cnt: 0
[2025-07-08T11:38:44.078568 I 18168] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:38:44.078608 W 18168] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:38:44.078629 I 18168] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:38:48.524140 I 18180] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:38:48.524183 I 18180] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:38:48.767634 I 18180] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:38:48.804319 I 18180] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x45cf17b7460, schema_ts: 100
[2025-07-08T11:38:48.828658 I 18181] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x45cf17b7460, schema_ts: 100
[2025-07-08T11:38:51.508671 I 18187] [cc_request.h:2722] ccs 0 memory usage report, committed 67701104, allocated 66504728, frag ratio 1.8 , heap full: 0
[2025-07-08T11:38:51.508759 I 18187] [cc_request.h:2722] ccs 1 memory usage report, committed 68233936, allocated 67358760, frag ratio 1.3 , heap full: 0
[2025-07-08T11:38:51.508780 I 18187] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:38:51.508814 I 18187] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974731508641. The memory usage of node is: 130726 KB.
[2025-07-08T11:38:51.510478 I 18221] [local_cc_shards.cpp:4585] scan_cc: 139757748954752  scan data cnt is 0
[2025-07-08T11:38:51.512409 I 18220] [local_cc_shards.cpp:4585] scan_cc: 139757757347456  scan data cnt is 0
[2025-07-08T11:38:51.513254 I 18220] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974731508641
[2025-07-08T11:38:51.514173 I 18220] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974731508641
[2025-07-08T11:39:01.511873 I 18187] [cc_request.h:2722] ccs 0 memory usage report, committed 67829968, allocated 66681960, frag ratio 1.7 , heap full: 0
[2025-07-08T11:39:01.511937 I 18187] [cc_request.h:2722] ccs 1 memory usage report, committed 68463056, allocated 67552600, frag ratio 1.3 , heap full: 0
[2025-07-08T11:39:01.511952 I 18187] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:39:01.511971 I 18187] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974741510679. The memory usage of node is: 131088 KB.
[2025-07-08T11:39:01.512032 I 18187] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974741510679
[2025-07-08T11:39:01.512080 I 18187] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974741510679
[2025-07-08T11:39:11.525599 I 18187] [cc_request.h:2722] ccs 0 memory usage report, committed 67936592, allocated 66708576, frag ratio 1.8 , heap full: 0
[2025-07-08T11:39:11.525666 I 18187] [cc_request.h:2722] ccs 1 memory usage report, committed 68557872, allocated 67597832, frag ratio 1.4 , heap full: 0
[2025-07-08T11:39:11.525684 I 18187] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:39:11.525705 I 18187] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974751407122. The memory usage of node is: 131158 KB.
[2025-07-08T11:39:11.526750 I 18220] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 999 quota: 157286400 flight_tasks: 1 record count: 9
[2025-07-08T11:39:11.526883 I 18221] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 1998 quota: 157286400 flight_tasks: 1 record count: 18
[2025-07-08T11:39:11.529459 I 18219] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 999 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:39:11.529961 I 18219] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 1998 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:39:11.808195 I 18219] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:39:11.808243 I 18219] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:39:11.811475 I 18219] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974751407122
[2025-07-08T11:39:11.862732 I 18219] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974751407122
[2025-07-08T11:39:21.537161 I 18181] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:39:21.541397 I 18180] [cc_shard.cpp:2106] the size of lock array decreased from: 16384 to: 8192
[2025-07-08T11:39:21.542668 I 18187] [cc_request.h:2722] ccs 0 memory usage report, committed 59846928, allocated 57924096, frag ratio 3.2 , heap full: 0
[2025-07-08T11:39:21.542724 I 18187] [cc_request.h:2722] ccs 1 memory usage report, committed 60482576, allocated 58844920, frag ratio 2.7 , heap full: 0
[2025-07-08T11:39:21.542743 I 18187] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:39:21.542773 I 18187] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974761525961. The memory usage of node is: 114032 KB.
[2025-07-08T11:39:21.547029 I 18220] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 103674 quota: 157286400 flight_tasks: 1 record count: 934
[2025-07-08T11:39:21.550689 I 18221] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 104007 quota: 157286400 flight_tasks: 1 record count: 937
[2025-07-08T11:39:21.566330 I 18219] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 103674 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:39:21.575714 I 18219] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 104007 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:39:21.614409 I 18219] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:39:21.614456 I 18219] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:39:21.625089 I 18219] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974761525961
[2025-07-08T11:39:21.625145 I 18219] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974761525961
[2025-07-08T11:39:31.545432 I 18187] [cc_request.h:2722] ccs 0 memory usage report, committed 59942000, allocated 58008912, frag ratio 3.2 , heap full: 0
[2025-07-08T11:39:31.545516 I 18187] [cc_request.h:2722] ccs 1 memory usage report, committed 60587888, allocated 58909736, frag ratio 2.8 , heap full: 0
[2025-07-08T11:39:31.545535 I 18187] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:39:31.545557 I 18187] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974771543060. The memory usage of node is: 114178 KB.
[2025-07-08T11:39:31.553313 I 18221] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 60051 quota: 157286400 flight_tasks: 1 record count: 541
[2025-07-08T11:39:31.560212 I 18220] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 58497 quota: 157286400 flight_tasks: 1 record count: 527
[2025-07-08T11:39:31.576666 I 18219] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 60051 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:39:31.584038 I 18219] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 58497 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:39:31.628901 I 18219] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:39:31.628947 I 18219] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:39:31.631618 I 18219] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974771543060
[2025-07-08T11:39:31.631661 I 18219] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974771543060
[2025-07-08T11:39:41.549747 I 18187] [cc_request.h:2722] ccs 0 memory usage report, committed 59942000, allocated 58000720, frag ratio 3.2 , heap full: 0
[2025-07-08T11:39:41.549816 I 18187] [cc_request.h:2722] ccs 1 memory usage report, committed 60591472, allocated 58919064, frag ratio 2.8 , heap full: 0
[2025-07-08T11:39:41.549834 I 18187] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:39:41.549858 I 18187] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974781549187. The memory usage of node is: 114179 KB.
[2025-07-08T11:39:41.549960 I 18187] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974781549187
[2025-07-08T11:39:41.549990 I 18187] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974781549187
[2025-07-08T11:39:47.352416 I 18181] [data_store_fault_inject.h:200] FaultInject name=panic_before_update_ds_config  paras=action=panic
[2025-07-08T11:39:48.372316 I 18180] [data_store_service.cpp:1294] OpenDSShard with READ_ONLY mode for shard 0
[2025-07-08T11:39:48.374114 I 18180] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:39:50.393838 I 18180] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:39:50.393898 I 18180] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:39:50.393919 I 18180] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 1
[2025-07-08T11:39:50.393934 I 18180] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 2 ms
[2025-07-08T11:39:50.393951 I 18180] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-1 new_cookie_on_open: 0-2
[2025-07-08T11:39:50.505710 I 18180] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 111 ms
[2025-07-08T11:39:50.520155 I 18180] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:39:50.520211 E 18180] [data_store_service_config.cpp:889] Shard 0 is not in ReadWrite mode, status: 3
[2025-07-08T11:39:50.524542 I 18180] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586

   _____  _                _  ____     __ 
  | ____|| |  ___    __ _ | |/ /\ \   / / 
  |  _|  | | / _ \  / _` || ' /  \ \ / /  
  | |___ | || (_) || (_| || . \   \ V /   
  |_____||_| \___/  \__, ||_|\_\   \_/    
                       |_|               
  
* Welcome to use EloqKV(v0.8.18).
* Running logs will be written to the following path:

* The above log path can be specified by arg --log_dir.
* You can also run with [--help] for all available flags.

Starting EloqKV Server...
[2025-07-08T11:39:51.429878 I 18360] [redis_server.cpp:74] Starting EloqKV Server ...
[2025-07-08T11:39:51.431191 I 18360] [redis_service.cpp:436] Set maxclients: 10000
[2025-07-08T11:39:51.431556 I 18360] [redis_service.cpp:733] Local server ip port: 127.0.0.1:7579
[2025-07-08T11:39:51.442862 I 18360] [util.h:378] Successfully loaded cluster config from file with version 1751974721087913
[2025-07-08T11:39:51.442916 I 18360] [redis_service.cpp:849] ng_id: 0
[2025-07-08T11:39:51.442932 I 18360] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:39:51.442943 I 18360] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:39:51.442955 I 18360] [redis_service.cpp:849] ng_id: 1
[2025-07-08T11:39:51.442965 I 18360] [redis_service.cpp:852] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:39:51.442974 I 18360] [redis_service.cpp:852] node_id: 0, host_name: 127.0.0.1, port: 17479
[2025-07-08T11:39:51.443095 I 18360] [data_store_service_config.cpp:71] Shard count: 1
[2025-07-08T11:39:51.443120 I 18360] [data_store_service_config.cpp:119] Shard 0 node 127.0.0.1:17586
[2025-07-08T11:39:51.455348 I 18360] [rocksdb_cloud_data_store.cpp:555] DBCloud Open
[2025-07-08T11:39:53.472779 I 18360] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-0
[2025-07-08T11:39:53.472841 I 18360] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-1
[2025-07-08T11:39:53.472858 I 18360] [rocksdb_cloud_data_store.cpp:963] FindMaxTermFromCloudManifestFiles, object: CLOUDMANIFEST-0-2
[2025-07-08T11:39:53.472873 I 18360] [rocksdb_cloud_data_store.cpp:978] FindMaxTermFromCloudManifestFiles, cc_ng_id: 0 max_term: 2
[2025-07-08T11:39:53.472887 I 18360] [rocksdb_cloud_data_store.cpp:983] FindMaxTermFromCloudManifestFiles tooks 4 ms
[2025-07-08T11:39:53.472905 I 18360] [rocksdb_cloud_data_store.cpp:607] StartDB cookie_on_open: 0-2 new_cookie_on_open: 0-3
[2025-07-08T11:39:53.612213 I 18360] [rocksdb_cloud_data_store.cpp:791] DBCloud Open took 139 ms
[2025-07-08T11:39:53.624608 I 18360] [rocksdb_cloud_data_store.cpp:813] RocksDB Cloud started
[2025-07-08T11:39:53.630671 I 18360] [server.cpp:1129] Server[EloqDS::DataStoreService] is serving on port=17586.
[2025-07-08T11:39:53.641485 I 18360] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17586 in web browser.
[2025-07-08T11:39:53.642848 I 18360] [data_store_service.cpp:266] DataStoreService started on port 17586
[2025-07-08T11:39:53.643116 I 18360] [data_store_service_client.h:79] AppendPreBuiltTable: __sequence_table
[2025-07-08T11:39:53.646245 I 18360] [redis_service.cpp:1290] enable_metrics: OFF
[2025-07-08T11:39:53.688210 I 18360] [local_cc_shards.cpp:236] Data sync work memory usage quota: 157286400
[2025-07-08T11:39:53.688356 I 18360] [checkpointer.cpp:80] checkpointer init, checkpoint_interval_: 10 ,ckpt_delay_seconds: 0
[2025-07-08T11:39:53.688793 I 18360] [sharder.cpp:210] txlog_port = 9000
[2025-07-08T11:39:53.688853 I 18360] [log_util.h:144] Dump LogRaftGroupConfig: 
[2025-07-08T11:39:53.688868 I 18360] [log_util.h:153] log_group_id: 0 ,group_name:  lg0 ,group_conf: 127.0.0.1:9000:0 ,group_nodes: 0:
[2025-07-08T11:39:53.703310 I 18360] [server.cpp:1129] Server[txservice::remote::CcNodeService] is serving on port=17580.
[2025-07-08T11:39:53.703356 I 18360] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17580 in web browser.
[2025-07-08T11:39:53.720511 I 18360] [server.cpp:1129] Server[txservice::fault::RecoveryService] is serving on port=17582.
[2025-07-08T11:39:53.720571 I 18360] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17582 in web browser.
[2025-07-08T11:39:53.720587 I 18360] [sharder.cpp:329] Forking host manager process with /tmp/build/dce06a3d/redis_src/cmake/install/bin/host_manager, the hm will be listening on 0.0.0.0:17583
[2025-07-08T11:39:53.724735 I 18360] [sharder.cpp:371] Spawned host manager process with PID: 18438
[2025-07-08T11:39:53.842640 I 18360] [tx_start_ts_collector.cpp:46] TxStartTsCollector init, interval seconds: 0
[2025-07-08T11:39:53.850364 I 18360] [tx_service.h:1259] Tx service module is registered.
[2025-07-08T11:39:53.852167 I 18360] [server.cpp:1129] Server[txservice::remote::CcStreamReceiver] is serving on port=17579.
[2025-07-08T11:39:53.852206 I 18360] [server.cpp:1132] Check out http://3610aad3-1356-4e29-b9d8-500386bc38e9:17579 in web browser.
[2025-07-08T11:39:53.855444 I 18436] [cc_stream_sender.cpp:819] Establish the cc stream to node 1
[2025-07-08T11:39:53.858105 I 18436] [cc_stream_sender.cpp:819] Establish the cc stream to node 0
[2025-07-08T11:39:53.860123 I 18436] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 1
[2025-07-08T11:39:53.865487 I 18436] [cc_stream_sender.cpp:861] Establish the long msg cc stream to node 0
[2025-07-08T11:39:53.866709 I 18424] [cc_stream_receiver.cpp:1558] RecoverStateCheckResponse with error, node_group: 0, error_code:-1
[2025-07-08T11:39:54.086846 I 18423] [data_store_service.cpp:1431] Member Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:39:54.087471 I 18423] [data_store_service.cpp:1447] UpdateDSShardConfig for shard 0, listener: 1
[2025-07-08T11:39:54.087522 I 18423] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:39:54.103667 I 18423] [data_store_service.cpp:1404] SwitchDSShardMode to read write for shard 0
[2025-07-08T11:39:54.103698 I 18423] [data_store_service_config.cpp:867] SwitchToReadWrite, shard 0 status: 1
[2025-07-08T11:39:54.103726 I 18423] [data_store_service_client.cpp:93] Node Hostname: 127.0.0.1, Port: 17586
[2025-07-08T11:39:54.856871 I 18424] [cc_stream_receiver.cpp:1558] RecoverStateCheckResponse with error, node_group: 0, error_code:-1
[2025-07-08T11:39:55.643812 I 18423] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:39:55.858568 I 18434] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:39:57.339512 I 18423] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:0
[2025-07-08T11:39:57.853893 I 18434] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:0
[2025-07-08T11:39:57.855325 I 18360] [server.cpp:1129] Server[EloqKV::RedisServiceImpl] is serving on port=7579.
[2025-07-08T11:39:57.855391 W 18360] [server.cpp:1135] Builtin services are disabled according to ServerOptions.has_builtin_services
EloqKV Server Started, listening on 127.0.0.1:7579
[2025-07-08T11:39:57.855414 I 18360] [redis_server.cpp:110] ==== EloqKV Server Started, listening on 127.0.0.1:7579====
[2025-07-08T11:39:57.856370 I 18434] [sharder.cpp:687] ccnode group ng0 updates leader to node_id:0
[2025-07-08T11:39:58.333688 I 18423] [cc_node.cpp:347] CC node 1 becomes the leader of ng#1. Term: 5
[2025-07-08T11:39:58.342685 I 18423] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:39:58.352164 I 18423] [log_replay_service.cpp:274] replay service accepting new stream: 93 from log group: 0 to cc_ng: 1 at term: 5
[2025-07-08T11:39:58.352851 I 18424] [cc_node.cpp:126] The leader of cc node group ng#1 with the term 5 has been recovered.
[2025-07-08T11:39:58.352882 I 18424] [log_replay_service.cpp:616] replay connection: cc node group: 1, term: 5, log group: 0, set recovering status to finished
[2025-07-08T11:39:58.352941 I 18424] [log_replay_service.cpp:717] replay service stream: 93, is closed, active stream cnt: 0
[2025-07-08T11:40:02.941263 I 18374] [data_store_service_client_closure.cpp:238] FetchTableCatalogCallback, key:data_table_0, catalog_image: data_table_0
[2025-07-08T11:40:02.941604 I 18424] [object_cc_map.h:83] creating ObjectCcmap on shard: 0, table name: data_table_0, table_schema: 0x5713b7b7a10, schema_ts: 100
[2025-07-08T11:40:02.969390 I 18423] [object_cc_map.h:83] creating ObjectCcmap on shard: 1, table name: data_table_0, table_schema: 0x5713b7b7a10, schema_ts: 100
[2025-07-08T11:40:03.693192 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 57204832, allocated 56762984, frag ratio 0.77 , heap full: 0
[2025-07-08T11:40:03.693261 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 56995328, allocated 56646344, frag ratio 0.61 , heap full: 0
[2025-07-08T11:40:03.693280 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 0, committed 0, full: 0
[2025-07-08T11:40:03.693323 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974803688631. The memory usage of node is: 110751 KB.
[2025-07-08T11:40:03.696331 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974803688631
[2025-07-08T11:40:03.696419 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974803688631
[2025-07-08T11:40:13.706542 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 57368480, allocated 56942424, frag ratio 0.74 , heap full: 0
[2025-07-08T11:40:13.706610 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 57163104, allocated 56818824, frag ratio 0.6 , heap full: 0
[2025-07-08T11:40:13.706629 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 16, committed 4096, full: 0
[2025-07-08T11:40:13.706651 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974813705424. The memory usage of node is: 111094 KB.
[2025-07-08T11:40:13.708467 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974813705424
[2025-07-08T11:40:13.708515 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974813705424
[2025-07-08T11:40:23.727154 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 57539232, allocated 57093752, frag ratio 0.77 , heap full: 0
[2025-07-08T11:40:23.727227 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 57325728, allocated 56985184, frag ratio 0.59 , heap full: 0
[2025-07-08T11:40:23.727249 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 32, committed 4096, full: 0
[2025-07-08T11:40:23.727274 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974823722519. The memory usage of node is: 111405 KB.
[2025-07-08T11:40:23.727377 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974823722519
[2025-07-08T11:40:23.727425 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974823722519
[2025-07-08T11:40:33.732429 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 57728928, allocated 57284872, frag ratio 0.77 , heap full: 0
[2025-07-08T11:40:33.732501 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 57682848, allocated 57245808, frag ratio 0.76 , heap full: 0
[2025-07-08T11:40:33.732518 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 48, committed 4096, full: 0
[2025-07-08T11:40:33.732540 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974833731078. The memory usage of node is: 111846 KB.
[2025-07-08T11:40:33.733510 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974833731078
[2025-07-08T11:40:33.733578 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974833731078
[2025-07-08T11:40:43.738560 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 57754528, allocated 57313384, frag ratio 0.76 , heap full: 0
[2025-07-08T11:40:43.738631 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 57712544, allocated 57266776, frag ratio 0.77 , heap full: 0
[2025-07-08T11:40:43.738646 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 64, committed 4096, full: 0
[2025-07-08T11:40:43.738667 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974843738148. The memory usage of node is: 111894 KB.
[2025-07-08T11:40:43.743454 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974843738148
[2025-07-08T11:40:43.743520 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974843738148
[2025-07-08T11:40:53.750437 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 57754528, allocated 57313768, frag ratio 0.76 , heap full: 0
[2025-07-08T11:40:53.750505 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 57712544, allocated 57266632, frag ratio 0.77 , heap full: 0
[2025-07-08T11:40:53.750521 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 80, committed 4096, full: 0
[2025-07-08T11:40:53.750543 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974853747770. The memory usage of node is: 111894 KB.
[2025-07-08T11:40:53.751508 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974853747770
[2025-07-08T11:40:53.751603 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974853747770
[2025-07-08T11:41:03.761976 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 58098112, allocated 57477264, frag ratio 1.1 , heap full: 0
[2025-07-08T11:41:03.762044 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 57832896, allocated 57391184, frag ratio 0.76 , heap full: 0
[2025-07-08T11:41:03.762063 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 96, committed 4096, full: 0
[2025-07-08T11:41:03.762081 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974863745313. The memory usage of node is: 112176 KB.
[2025-07-08T11:41:03.776101 I 18463] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 45539 quota: 157286400 flight_tasks: 1 record count: 403
[2025-07-08T11:41:03.776136 I 18464] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 47121 quota: 157286400 flight_tasks: 1 record count: 417
[2025-07-08T11:41:03.790922 I 18462] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 45539 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:41:03.796551 I 18462] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 47121 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:41:03.842193 I 18378] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:41:03.842252 I 18462] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:41:03.842269 I 18462] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:41:03.842504 I 18462] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974863745313
[2025-07-08T11:41:03.842542 I 18462] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974863745313
[2025-07-08T11:41:05.504424 I 18382] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:41:13.770478 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 58434240, allocated 57711224, frag ratio 1.2 , heap full: 0
[2025-07-08T11:41:13.770537 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 58169536, allocated 57616760, frag ratio 0.95 , heap full: 0
[2025-07-08T11:41:13.770553 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 112, committed 4096, full: 0
[2025-07-08T11:41:13.770576 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974873703457. The memory usage of node is: 112624 KB.
[2025-07-08T11:41:13.776171 I 18463] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 119328 quota: 157286400 flight_tasks: 1 record count: 1056
[2025-07-08T11:41:13.778666 I 18464] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 120232 quota: 157286400 flight_tasks: 1 record count: 1064
[2025-07-08T11:41:13.788192 I 18462] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 119328 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:41:13.793517 I 18462] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 120232 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:41:13.836961 I 18385] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:41:13.837024 I 18462] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:41:13.837044 I 18462] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:41:13.837414 I 18462] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974873703457
[2025-07-08T11:41:13.837478 I 18462] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974873703457
[2025-07-08T11:41:13.837594 I 18401] [rocksdb_cloud_data_store.h:113] Compaction begin, job_id: 6 ,thread: 18401 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:41:13.906651 I 18401] [rocksdb_cloud_data_store.h:124] Compaction end, job_id: 6 ,thread: 18401 ,output_level: 6 ,input_files_size: 5 ,compaction_reason: 1
[2025-07-08T11:41:15.511623 I 18387] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:41:23.773571 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 58378944, allocated 57689832, frag ratio 1.2 , heap full: 0
[2025-07-08T11:41:23.773641 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 58108096, allocated 57587144, frag ratio 0.9 , heap full: 0
[2025-07-08T11:41:23.773659 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 128, committed 4096, full: 0
[2025-07-08T11:41:23.773680 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974883771455. The memory usage of node is: 112575 KB.
[2025-07-08T11:41:23.780737 I 18463] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 1243 quota: 157286400 flight_tasks: 1 record count: 11
[2025-07-08T11:41:23.785354 I 18462] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 1243 new_usage: 0 quota: 157286400 flight_tasks: 1
[2025-07-08T11:41:23.785606 I 18464] [local_cc_shards.cpp:4598] AllocateFlushDataMemQuota old_usage: 0 new_usage: 1017 quota: 157286400 flight_tasks: 1 record count: 9
[2025-07-08T11:41:23.788784 I 18462] [local_cc_shards.cpp:5670] DelocateFlushDataMemQuota old_usage: 1017 new_usage: 0 quota: 157286400 flight_tasks: 2
[2025-07-08T11:41:23.828260 I 18375] [rocksdb_cloud_data_store.cpp:1149] FlushData successfully.
[2025-07-08T11:41:23.828315 I 18464] [data_store_service_client.cpp:431] DataStoreHandler::PersistKV success.
[2025-07-08T11:41:23.828333 I 18464] [data_sync_task.cpp:271] ckpt_end, res:1
[2025-07-08T11:41:23.828506 I 18464] [data_sync_task.cpp:111] Checkpoint of node group #1 succeeded with timestamp: 1751974883771455
[2025-07-08T11:41:23.828542 I 18464] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974883771455
[2025-07-08T11:41:33.783587 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 58378944, allocated 57680936, frag ratio 1.2 , heap full: 0
[2025-07-08T11:41:33.783659 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 58108096, allocated 57578856, frag ratio 0.91 , heap full: 0
[2025-07-08T11:41:33.783675 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 144, committed 4096, full: 0
[2025-07-08T11:41:33.783697 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974893778700. The memory usage of node is: 112558 KB.
[2025-07-08T11:41:33.790604 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974893778700
[2025-07-08T11:41:33.790666 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974893778700
[2025-07-08T11:41:43.799283 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 58378944, allocated 57697320, frag ratio 1.2 , heap full: 0
[2025-07-08T11:41:43.799360 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 58108096, allocated 57578760, frag ratio 0.91 , heap full: 0
[2025-07-08T11:41:43.799376 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 160, committed 4096, full: 0
[2025-07-08T11:41:43.799415 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974903797156. The memory usage of node is: 112574 KB.
[2025-07-08T11:41:43.801707 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974903797156
[2025-07-08T11:41:43.801769 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974903797156
[2025-07-08T11:41:45.543627 I 18423] [data_store_fault_inject.h:200] FaultInject name=panic_before_update_ds_config  paras=remove
[2025-07-08T11:41:46.563679 I 18460] [tx_operation.cpp:6140] Cluster scale transaction prepare acquire write all on cluster scale table, txn: 4398046529026
[2025-07-08T11:41:46.585722 I 18460] [tx_operation.cpp:6161] Cluster scale transaction write prepare log, txn: 4398046529026
[2025-07-08T11:41:46.603040 I 18424] [tx_operation.cpp:6305] Cluster scale transaction publish bucket_migrating_begin to all node groups ,txn: 4398046529026
[2025-07-08T11:41:46.607149 I 18423] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:1
[2025-07-08T11:41:46.608484 I 18423] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:41:46.610713 I 18566] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:2,res:1,rpcfailed:0
[2025-07-08T11:41:46.611680 I 18424] [tx_operation.cpp:6346] Cluster scale transaction notify data migration, txn: 4398046529026
[2025-07-08T11:41:46.613693 I 18424] [tx_operation.cpp:7186] Remote RPC NotifyMigration of ng#0.
[2025-07-08T11:41:46.652477 I 18424] [tx_operation.h:1230] Cluster scale tx notify migration response, node group: 0, success: 1
[2025-07-08T11:41:46.652544 I 18424] [tx_operation.cpp:6532] Cluster scale transaction wait for migration done, txn: 4398046529026, tx_term: 5, tx_ng_id: 1
[2025-07-08T11:41:48.616884 I 18424] [tx_operation.cpp:6586] Cluster scale transaction acquire cluster config write lock, txn: 4398046529026
[2025-07-08T11:41:48.617799 I 18424] [tx_operation.cpp:6391] Cluster scale transaction write update cluster config log, txn: 4398046529026
[2025-07-08T11:41:48.623560 I 18424] [tx_operation.cpp:6421] Cluster scale transaction update cluster config, txn 4398046529026
[2025-07-08T11:41:48.633327 I 18434] [sharder.cpp:1276] Updating in memory cluster config to version 1751974907524833
[2025-07-08T11:41:48.633365 I 18434] [sharder.cpp:1278] new_ng_configs:
[2025-07-08T11:41:48.633442 I 18434] [sharder.cpp:1281] ng_id: 1
[2025-07-08T11:41:48.633455 I 18434] [sharder.cpp:1284] node_id: 1, host_name: 127.0.0.1, port: 17579
[2025-07-08T11:41:48.633504 I 18434] [cc_stream_sender.cpp:602] Closed cc stream to node 0
[2025-07-08T11:41:48.703660 I 18424] [tx_operation.cpp:6500] Cluster scale transaction publish bucket_migrating_end to all node groups ,txn: 4398046529026
[2025-07-08T11:41:48.704031 I 18424] [cc_node_service.cpp:1281] CcNodeService received PublishBucketsMigrating RPC of #ng1, is_migrating:0
[2025-07-08T11:41:48.704053 I 18424] [cc_node_service.cpp:1307] CcNodeService finish PublishBucketsMigrating RPC of #ng1
[2025-07-08T11:41:48.704133 I 18567] [tx_operation.cpp:6854] SendBucketsMigratingRpc ,ng_cnt:1,res:1,rpcfailed:0
[2025-07-08T11:41:48.704133 I 18434] [sharder.cpp:687] ccnode group ng1 updates leader to node_id:1
[2025-07-08T11:41:48.710796 I 18424] [tx_operation.cpp:6640] Cluster scale transaction succeeded, txn: 4398046529026, tx_term: 5, tx_ng_id: 1
[2025-07-08T11:41:49.816521 I 18423] [socket.cpp:2848] Checking Socket{id=425 remote addr=127.0.0.1:17480 local addr=0.0.0.0:0} (0x5714a130000)
[2025-07-08T11:41:53.811290 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 60274816, allocated 58829864, frag ratio 2.4 , heap full: 0
[2025-07-08T11:41:53.811354 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 59721296, allocated 59239896, frag ratio 0.81 , heap full: 0
[2025-07-08T11:41:53.811370 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 176, committed 4096, full: 0
[2025-07-08T11:41:53.811407 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974913809877. The memory usage of node is: 115302 KB.
[2025-07-08T11:41:53.811885 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974913809877
[2025-07-08T11:41:53.811920 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974913809877
[2025-07-08T11:42:03.819939 I 18430] [cc_request.h:2722] ccs 0 memory usage report, committed 60399552, allocated 59049400, frag ratio 2.2 , heap full: 0
[2025-07-08T11:42:03.820008 I 18430] [cc_request.h:2722] ccs 1 memory usage report, committed 59938096, allocated 59463896, frag ratio 0.79 , heap full: 0
[2025-07-08T11:42:03.820024 I 18430] [local_cc_shards.h:474] Table range memory report: allocated 192, committed 4096, full: 0
[2025-07-08T11:42:03.820044 I 18430] [checkpointer.cpp:228] Begin checkpoint with timestamp: 1751974923818433. The memory usage of node is: 115735 KB.
[2025-07-08T11:42:03.820120 I 18430] [checkpointer.cpp:367] Checkpoint of node group #1 succeeded with timestamp: 1751974923818433
[2025-07-08T11:42:03.820143 I 18430] [log_agent.cpp:440] UpdateCheckpointTs lg_id:0 node_id:0 ckpt_ts:1751974923818433
